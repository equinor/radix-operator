---
# Source: radix-operator/templates/radix-operator-rbac.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: radix-operator-abc
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
---
# Source: radix-operator/templates/radix-known-hosts-git.yaml
apiVersion: v1
kind: Secret
metadata:
  name: radix-known-hosts-git
  namespace: "default"
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
type: Opaque
data:
  known_hosts: Z2l0aHViLmNvbSBlY2RzYS1zaGEyLW5pc3RwMjU2IEFBQUFFMlZqWkhOaExYTm9ZVEl0Ym1semRIQXlOVFlBQUFBSWJtbHpkSEF5TlRZQUFBQkJCRW1LU0VOalFFZXpPbXhrWk15N29wS2d3RkI5bmt0NVlScllNak51RzVOODd1UmdnNkNMcmJvNXdBZFQveTZ2MG1LVjBVMncwV1oyWUIvKytUcG9ja2c9CmdpdGh1Yi5jb20gc3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFCZ1FDajduZE54UW93Z2NRbmpzaGNMcnFQRWlpcGhudCtWVFR2RFA2bUhCTDlqMWFOVWtZNFVlMWd2d25HTFZsT2hHZVlyblphTWdSSzYrUEtDVVhhRGJDN3F0Ylc4Z0lraEw3YUdDc09yL0M1NlNKTXkvQkNaZnhkMW5XekFPeFNEUGdWc21lck9CWWZOcWx0VjkvaFdDcUJ5d0lOSVIrNWRJZzZKVEo3MnBjRXBFamNZZ1hrRTJZRUZYVjFKSG5zS2diTFdObGhTY3FiMlVteVJrUXl5dFJMdEwrMzhUR3hreENmbG1PKzVaOENTU05ZN0dpZGpNSVo3UTR6TWpBMm4xbkdybFREa3p3RENzdyt3cUZQR1FBMTc5Y25mR1dPV1JWcnVqMTZ6Nlh5dnh2akp3Ynowd1FaNzVYSzV0S1NiN0ZOeWVJRXM0VFQ0amsrUzRkaFBlQVVDNXkrYkRZaXJZZ000R0M3dUVuenRuWnlhVldRN0IzODFBSzRRZHJ3dDUxWnFFeEtiUXBUVU5uK0VqcW9Ud3ZxTmo0a3F4NVFVQ0kwVGhTL1lrT3hKQ1htUFVXWmJoanBDZzU2aSsyYUI2Q21LMkpHaG41N0s1bWowTU5kQlhBNC9XbndINlhvUFdKeks1Tnl1MnpCM25BWnArUzVocFFzK3Axdk4xL3dzams9CmdpdGh1Yi5jb20gc3NoLWVkMjU1MTkgQUFBQUMzTnphQzFsWkRJMU5URTVBQUFBSU9NcXFua1Z6cm0wU2RHNlVPb3FLTHNhYmdINUM5b2tXaTBkaDJsOUdLSmwK
---
# Source: radix-operator/templates/radix-config.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: radix-config
  namespace: "default"
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
data:
  clustername: xx
  subscriptionId: xx
  clusterActiveEgressIps: xx
---
# Source: radix-operator/templates/radix-operator-ingress-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: radix-operator-ingress-configmap
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
data:
  ingressConfiguration: |
    certificate:
      automation:
        clusterIssuer: ""
        duration: 2160h
        renewBefore: 720h
    configuration:
    - annotations:
        nginx.ingress.kubernetes.io/proxy-read-timeout: 3600
        nginx.ingress.kubernetes.io/proxy-send-timeout: 3600
      name: websocketfriendly
    - annotations:
        nginx.ingress.kubernetes.io/affinity: cookie
        nginx.ingress.kubernetes.io/session-cookie-hash: sha1
        nginx.ingress.kubernetes.io/session-cookie-name: INGRESSCOOKIE
      name: stickysessions
    - annotations:
        nginx.org/lb-method: random
      name: leastconnectedlb
---
# Source: radix-operator/templates/seccomp-profile-cm.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: seccomp-allow-buildah
  namespace: kube-system
  annotations:
    description: "configmap with seccomp profile suitable for running buildah. It's a copy of the moby container runtime's default seccomp profile, but with the addition of two syscalls: clone3 and unshare. https://github.com/moby/moby/blob/b335e3d305be86bd28089a057d8be6a346445549/profiles/seccomp/default.json"
data:
  allow-buildah.json: |
    {
      "defaultAction": "SCMP_ACT_ERRNO",
      "defaultErrnoRet": 1,
      "archMap": [
        {
          "architecture": "SCMP_ARCH_X86_64",
          "subArchitectures": [
            "SCMP_ARCH_X86",
            "SCMP_ARCH_X32"
          ]
        },
        {
          "architecture": "SCMP_ARCH_AARCH64",
          "subArchitectures": [
            "SCMP_ARCH_ARM"
          ]
        },
        {
          "architecture": "SCMP_ARCH_MIPS64",
          "subArchitectures": [
            "SCMP_ARCH_MIPS",
            "SCMP_ARCH_MIPS64N32"
          ]
        },
        {
          "architecture": "SCMP_ARCH_MIPS64N32",
          "subArchitectures": [
            "SCMP_ARCH_MIPS",
            "SCMP_ARCH_MIPS64"
          ]
        },
        {
          "architecture": "SCMP_ARCH_MIPSEL64",
          "subArchitectures": [
            "SCMP_ARCH_MIPSEL",
            "SCMP_ARCH_MIPSEL64N32"
          ]
        },
        {
          "architecture": "SCMP_ARCH_MIPSEL64N32",
          "subArchitectures": [
            "SCMP_ARCH_MIPSEL",
            "SCMP_ARCH_MIPSEL64"
          ]
        },
        {
          "architecture": "SCMP_ARCH_S390X",
          "subArchitectures": [
            "SCMP_ARCH_S390"
          ]
        },
        {
          "architecture": "SCMP_ARCH_RISCV64",
          "subArchitectures": null
        }
      ],
      "syscalls": [
        {
          "names": [
            "clone3",
            "unshare",
            "accept",
            "accept4",
            "access",
            "adjtimex",
            "alarm",
            "bind",
            "brk",
            "capget",
            "capset",
            "chdir",
            "chmod",
            "chown",
            "chown32",
            "clock_adjtime",
            "clock_adjtime64",
            "clock_getres",
            "clock_getres_time64",
            "clock_gettime",
            "clock_gettime64",
            "clock_nanosleep",
            "clock_nanosleep_time64",
            "close",
            "close_range",
            "connect",
            "copy_file_range",
            "creat",
            "dup",
            "dup2",
            "dup3",
            "epoll_create",
            "epoll_create1",
            "epoll_ctl",
            "epoll_ctl_old",
            "epoll_pwait",
            "epoll_pwait2",
            "epoll_wait",
            "epoll_wait_old",
            "eventfd",
            "eventfd2",
            "execve",
            "execveat",
            "exit",
            "exit_group",
            "faccessat",
            "faccessat2",
            "fadvise64",
            "fadvise64_64",
            "fallocate",
            "fanotify_mark",
            "fchdir",
            "fchmod",
            "fchmodat",
            "fchown",
            "fchown32",
            "fchownat",
            "fcntl",
            "fcntl64",
            "fdatasync",
            "fgetxattr",
            "flistxattr",
            "flock",
            "fork",
            "fremovexattr",
            "fsetxattr",
            "fstat",
            "fstat64",
            "fstatat64",
            "fstatfs",
            "fstatfs64",
            "fsync",
            "ftruncate",
            "ftruncate64",
            "futex",
            "futex_time64",
            "futex_waitv",
            "futimesat",
            "getcpu",
            "getcwd",
            "getdents",
            "getdents64",
            "getegid",
            "getegid32",
            "geteuid",
            "geteuid32",
            "getgid",
            "getgid32",
            "getgroups",
            "getgroups32",
            "getitimer",
            "getpeername",
            "getpgid",
            "getpgrp",
            "getpid",
            "getppid",
            "getpriority",
            "getrandom",
            "getresgid",
            "getresgid32",
            "getresuid",
            "getresuid32",
            "getrlimit",
            "get_robust_list",
            "getrusage",
            "getsid",
            "getsockname",
            "getsockopt",
            "get_thread_area",
            "gettid",
            "gettimeofday",
            "getuid",
            "getuid32",
            "getxattr",
            "inotify_add_watch",
            "inotify_init",
            "inotify_init1",
            "inotify_rm_watch",
            "io_cancel",
            "ioctl",
            "io_destroy",
            "io_getevents",
            "io_pgetevents",
            "io_pgetevents_time64",
            "ioprio_get",
            "ioprio_set",
            "io_setup",
            "io_submit",
            "io_uring_enter",
            "io_uring_register",
            "io_uring_setup",
            "ipc",
            "kill",
            "landlock_add_rule",
            "landlock_create_ruleset",
            "landlock_restrict_self",
            "lchown",
            "lchown32",
            "lgetxattr",
            "link",
            "linkat",
            "listen",
            "listxattr",
            "llistxattr",
            "_llseek",
            "lremovexattr",
            "lseek",
            "lsetxattr",
            "lstat",
            "lstat64",
            "madvise",
            "membarrier",
            "memfd_create",
            "memfd_secret",
            "mincore",
            "mkdir",
            "mkdirat",
            "mknod",
            "mknodat",
            "mlock",
            "mlock2",
            "mlockall",
            "mmap",
            "mmap2",
            "mprotect",
            "mq_getsetattr",
            "mq_notify",
            "mq_open",
            "mq_timedreceive",
            "mq_timedreceive_time64",
            "mq_timedsend",
            "mq_timedsend_time64",
            "mq_unlink",
            "mremap",
            "msgctl",
            "msgget",
            "msgrcv",
            "msgsnd",
            "msync",
            "munlock",
            "munlockall",
            "munmap",
            "name_to_handle_at",
            "nanosleep",
            "newfstatat",
            "_newselect",
            "open",
            "openat",
            "openat2",
            "pause",
            "pidfd_open",
            "pidfd_send_signal",
            "pipe",
            "pipe2",
            "pkey_alloc",
            "pkey_free",
            "pkey_mprotect",
            "poll",
            "ppoll",
            "ppoll_time64",
            "prctl",
            "pread64",
            "preadv",
            "preadv2",
            "prlimit64",
            "process_mrelease",
            "pselect6",
            "pselect6_time64",
            "pwrite64",
            "pwritev",
            "pwritev2",
            "read",
            "readahead",
            "readlink",
            "readlinkat",
            "readv",
            "recv",
            "recvfrom",
            "recvmmsg",
            "recvmmsg_time64",
            "recvmsg",
            "remap_file_pages",
            "removexattr",
            "rename",
            "renameat",
            "renameat2",
            "restart_syscall",
            "rmdir",
            "rseq",
            "rt_sigaction",
            "rt_sigpending",
            "rt_sigprocmask",
            "rt_sigqueueinfo",
            "rt_sigreturn",
            "rt_sigsuspend",
            "rt_sigtimedwait",
            "rt_sigtimedwait_time64",
            "rt_tgsigqueueinfo",
            "sched_getaffinity",
            "sched_getattr",
            "sched_getparam",
            "sched_get_priority_max",
            "sched_get_priority_min",
            "sched_getscheduler",
            "sched_rr_get_interval",
            "sched_rr_get_interval_time64",
            "sched_setaffinity",
            "sched_setattr",
            "sched_setparam",
            "sched_setscheduler",
            "sched_yield",
            "seccomp",
            "select",
            "semctl",
            "semget",
            "semop",
            "semtimedop",
            "semtimedop_time64",
            "send",
            "sendfile",
            "sendfile64",
            "sendmmsg",
            "sendmsg",
            "sendto",
            "setfsgid",
            "setfsgid32",
            "setfsuid",
            "setfsuid32",
            "setgid",
            "setgid32",
            "setgroups",
            "setgroups32",
            "setitimer",
            "setpgid",
            "setpriority",
            "setregid",
            "setregid32",
            "setresgid",
            "setresgid32",
            "setresuid",
            "setresuid32",
            "setreuid",
            "setreuid32",
            "setrlimit",
            "set_robust_list",
            "setsid",
            "setsockopt",
            "set_thread_area",
            "set_tid_address",
            "setuid",
            "setuid32",
            "setxattr",
            "shmat",
            "shmctl",
            "shmdt",
            "shmget",
            "shutdown",
            "sigaltstack",
            "signalfd",
            "signalfd4",
            "sigprocmask",
            "sigreturn",
            "socketcall",
            "socketpair",
            "splice",
            "stat",
            "stat64",
            "statfs",
            "statfs64",
            "statx",
            "symlink",
            "symlinkat",
            "sync",
            "sync_file_range",
            "syncfs",
            "sysinfo",
            "tee",
            "tgkill",
            "time",
            "timer_create",
            "timer_delete",
            "timer_getoverrun",
            "timer_gettime",
            "timer_gettime64",
            "timer_settime",
            "timer_settime64",
            "timerfd_create",
            "timerfd_gettime",
            "timerfd_gettime64",
            "timerfd_settime",
            "timerfd_settime64",
            "times",
            "tkill",
            "truncate",
            "truncate64",
            "ugetrlimit",
            "umask",
            "uname",
            "unlink",
            "unlinkat",
            "utime",
            "utimensat",
            "utimensat_time64",
            "utimes",
            "vfork",
            "vmsplice",
            "wait4",
            "waitid",
            "waitpid",
            "write",
            "writev"
          ],
          "action": "SCMP_ACT_ALLOW"
        },
        {
          "names": [
            "process_vm_readv",
            "process_vm_writev",
            "ptrace"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "minKernel": "4.8"
          }
        },
        {
          "names": [
            "socket"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 40,
              "op": "SCMP_CMP_NE"
            }
          ]
        },
        {
          "names": [
            "personality"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 0,
              "op": "SCMP_CMP_EQ"
            }
          ]
        },
        {
          "names": [
            "personality"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 8,
              "op": "SCMP_CMP_EQ"
            }
          ]
        },
        {
          "names": [
            "personality"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 131072,
              "op": "SCMP_CMP_EQ"
            }
          ]
        },
        {
          "names": [
            "personality"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 131080,
              "op": "SCMP_CMP_EQ"
            }
          ]
        },
        {
          "names": [
            "personality"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 4294967295,
              "op": "SCMP_CMP_EQ"
            }
          ]
        },
        {
          "names": [
            "sync_file_range2",
            "swapcontext"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "arches": [
              "ppc64le"
            ]
          }
        },
        {
          "names": [
            "arm_fadvise64_64",
            "arm_sync_file_range",
            "sync_file_range2",
            "breakpoint",
            "cacheflush",
            "set_tls"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "arches": [
              "arm",
              "arm64"
            ]
          }
        },
        {
          "names": [
            "arch_prctl"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "arches": [
              "amd64",
              "x32"
            ]
          }
        },
        {
          "names": [
            "modify_ldt"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "arches": [
              "amd64",
              "x32",
              "x86"
            ]
          }
        },
        {
          "names": [
            "s390_pci_mmio_read",
            "s390_pci_mmio_write",
            "s390_runtime_instr"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "arches": [
              "s390",
              "s390x"
            ]
          }
        },
        {
          "names": [
            "riscv_flush_icache"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "arches": [
              "riscv64"
            ]
          }
        },
        {
          "names": [
            "open_by_handle_at"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_DAC_READ_SEARCH"
            ]
          }
        },
        {
          "names": [
            "bpf",
            "clone",
            "clone3",
            "fanotify_init",
            "fsconfig",
            "fsmount",
            "fsopen",
            "fspick",
            "lookup_dcookie",
            "mount",
            "mount_setattr",
            "move_mount",
            "open_tree",
            "perf_event_open",
            "quotactl",
            "quotactl_fd",
            "setdomainname",
            "sethostname",
            "setns",
            "syslog",
            "umount",
            "umount2",
            "unshare"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_ADMIN"
            ]
          }
        },
        {
          "names": [
            "clone"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 0,
              "value": 2114060288,
              "op": "SCMP_CMP_MASKED_EQ"
            }
          ],
          "excludes": {
            "caps": [
              "CAP_SYS_ADMIN"
            ],
            "arches": [
              "s390",
              "s390x"
            ]
          }
        },
        {
          "names": [
            "clone"
          ],
          "action": "SCMP_ACT_ALLOW",
          "args": [
            {
              "index": 1,
              "value": 2114060288,
              "op": "SCMP_CMP_MASKED_EQ"
            }
          ],
          "comment": "s390 parameter ordering for clone is different",
          "includes": {
            "arches": [
              "s390",
              "s390x"
            ]
          },
          "excludes": {
            "caps": [
              "CAP_SYS_ADMIN"
            ]
          }
        },
        {
          "names": [
            "clone3"
          ],
          "action": "SCMP_ACT_ERRNO",
          "errnoRet": 38,
          "excludes": {
            "caps": [
              "CAP_SYS_ADMIN"
            ]
          }
        },
        {
          "names": [
            "reboot"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_BOOT"
            ]
          }
        },
        {
          "names": [
            "chroot"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_CHROOT"
            ]
          }
        },
        {
          "names": [
            "delete_module",
            "init_module",
            "finit_module"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_MODULE"
            ]
          }
        },
        {
          "names": [
            "acct"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_PACCT"
            ]
          }
        },
        {
          "names": [
            "kcmp",
            "pidfd_getfd",
            "process_madvise",
            "process_vm_readv",
            "process_vm_writev",
            "ptrace"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_PTRACE"
            ]
          }
        },
        {
          "names": [
            "iopl",
            "ioperm"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_RAWIO"
            ]
          }
        },
        {
          "names": [
            "settimeofday",
            "stime",
            "clock_settime",
            "clock_settime64"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_TIME"
            ]
          }
        },
        {
          "names": [
            "vhangup"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_TTY_CONFIG"
            ]
          }
        },
        {
          "names": [
            "get_mempolicy",
            "mbind",
            "set_mempolicy"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYS_NICE"
            ]
          }
        },
        {
          "names": [
            "syslog"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_SYSLOG"
            ]
          }
        },
        {
          "names": [
            "bpf"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_BPF"
            ]
          }
        },
        {
          "names": [
            "perf_event_open"
          ],
          "action": "SCMP_ACT_ALLOW",
          "includes": {
            "caps": [
              "CAP_PERFMON"
            ]
          }
        }
      ]
    }
---
# Source: radix-operator/templates/radixalert.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: radixalerts.radix.equinor.com
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
spec:
  conversion:
    strategy: None
  group: radix.equinor.com
  names:
    kind: RadixAlert
    listKind: RadixAlertList
    plural: radixalerts
    shortNames:
    - ral
    singular: radixalert
  scope: Namespaced
  versions:
  - name: v1
    served: true
    storage: true
    subresources:
      status: {}
    schema:
      openAPIV3Schema:
          type: object
          properties:
            spec:
              type: object
              properties:
                receivers:
                  type: object
                  additionalProperties:
                    x-kubernetes-preserve-unknown-fields: true
                alerts:
                  type: array
                  items:
                    type: object
                    properties:
                      alert:
                        type: string
                      receiver:
                        type: string
            status:
              type: object
              additionalProperties:
                x-kubernetes-preserve-unknown-fields: true
---
# Source: radix-operator/templates/radixapplication.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: radixapplications.radix.equinor.com
spec:
  group: radix.equinor.com
  names:
    kind: RadixApplication
    listKind: RadixApplicationList
    plural: radixapplications
    shortNames:
    - ra
    singular: radixapplication
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        description: RadixApplication describes an application
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: |-
              Specification for an application.
              More info: https://www.radix.equinor.com/references/reference-radix-config/
            properties:
              build:
                description: |-
                  Build contains configuration used by pipeline jobs.
                  More info: https://www.radix.equinor.com/radix-config#build
                properties:
                  secrets:
                    description: |-
                      Defines a list of secrets that will be passed as ARGs when building Dockerfile.
                      The secrets can also be accessed in sub-pipelines.
                    items:
                      type: string
                    type: array
                  subPipeline:
                    description: SubPipeline common configuration for all environments.
                    properties:
                      identity:
                        description: |-
                          Configuration for workload identity (federated credentials).
                          More info: https://www.radix.equinor.com/radix-config#identity
                        properties:
                          azure:
                            description: Azure identity configuration
                            properties:
                              clientId:
                                description: Defines the Client ID for a user defined
                                  managed identity or application ID for an application
                                  registration.
                                type: string
                            required:
                            - clientId
                            type: object
                        type: object
                      variables:
                        additionalProperties:
                          type: string
                        description: Defines variables, that will be available in
                          sub-pipelines.
                        type: object
                    type: object
                  useBuildCache:
                    description: |-
                      Defaults to true and requires useBuildKit to have an effect.
                      Note: All layers will be cached and can be available for other Radix Apps. Do not add secrets to a Dockerfile layer.
                    type: boolean
                  useBuildKit:
                    description: |-
                      Enables BuildKit when building Dockerfile.
                      More info about BuildKit: https://docs.docker.com/build/buildkit/
                    type: boolean
                  variables:
                    additionalProperties:
                      type: string
                    description: Defines variables that will be available in sub-pipelines.
                    type: object
                type: object
              components:
                description: |-
                  List of component specification for the application.
                  More info: https://www.radix.equinor.com/radix-config#components
                items:
                  description: RadixComponent defines a component.
                  properties:
                    alwaysPullImageOnDeploy:
                      description: |-
                        Forces check/pull of images using static tags, e.g. myimage:latest, when deploying using deploy-only.
                        More info: https://www.radix.equinor.com/radix-config#alwayspullimageondeploy
                      type: boolean
                    args:
                      description: |-
                        Arguments to the entrypoint.
                        The container image's CMD is used if this is not provided.
                        Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                        cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                        to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                        produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                        of whether the variable exists or not. Cannot be updated.
                        More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: atomic
                    authentication:
                      description: |-
                        Configuration for TLS client certificate or OAuth2 authentication.
                        More info: https://www.radix.equinor.com/radix-config#authentication
                      properties:
                        clientCertificate:
                          description: |-
                            Configuration for TLS client certificate authentication.
                            More info: https://www.radix.equinor.com/radix-config#clientcertificate
                          properties:
                            passCertificateToUpstream:
                              description: |-
                                Pass client certificate to backend in header ssl-client-cert.
                                This setting has no effect if verification is set to off.
                              type: boolean
                            verification:
                              description: Defines how the client certificate shall
                                be verified.
                              enum:
                              - "on"
                              - "off"
                              - optional
                              - optional_no_ca
                              type: string
                          type: object
                        oauth2:
                          description: |-
                            Configuration for OAuth2 authentication.
                            More info: https://www.radix.equinor.com/radix-config#oauth2
                          properties:
                            clientId:
                              description: Client ID of the application.
                              type: string
                            cookie:
                              description: Session cookie settings.
                              properties:
                                expire:
                                  description: Defines the expire timeframe for the
                                    session cookie.
                                  type: string
                                name:
                                  description: Defines the name of the OAuth session
                                    cookie.
                                  type: string
                                refresh:
                                  description: |-
                                    The interval between cookie refreshes.
                                    The value must be a shorter timeframe than values set in Expire.
                                  type: string
                                sameSite:
                                  description: Defines the samesite cookie attribute
                                  enum:
                                  - strict
                                  - lax
                                  - none
                                  - ""
                                  type: string
                              type: object
                            cookieStore:
                              description: Settings for the cookie that stores session
                                data when SessionStoreType is cookie.
                              properties:
                                minimal:
                                  description: |-
                                    Strips OAuth tokens from cookies if they are not needed.
                                    Cookie.Refresh must be 0, and both SetXAuthRequestHeaders and SetAuthorizationHeader must be false if this setting is true.
                                  type: boolean
                              type: object
                            credentials:
                              default: secret
                              description: Credentials defines credentials type for
                                authenticating. Default is a Secret, which represents
                                a client secret.
                              enum:
                              - secret
                              - azureWorkloadIdentity
                              - ""
                              type: string
                            loginUrl:
                              description: |-
                                Defines the authentication endpoint of the identity provider.
                                Must be set if OIDC.SkipDiscovery is true
                              type: string
                            oidc:
                              description: OIDC settings.
                              properties:
                                insecureSkipVerifyNonce:
                                  description: Skip verifying the OIDC ID Token's
                                    nonce claim
                                  type: boolean
                                issuerUrl:
                                  description: Defines the OIDC issuer URL.
                                  type: string
                                jwksUrl:
                                  description: |-
                                    Defines the OIDC JWKS URL for token verification.
                                    Required if OIDC discovery is disabled.
                                  type: string
                                skipDiscovery:
                                  description: |-
                                    Defines if OIDC endpoint discovery should be bypassed.
                                    LoginURL, RedeemURL, JWKSURL must be configured if discovery is disabled.
                                  type: boolean
                              type: object
                            proxyPrefix:
                              description: Defines the url root path that OAuth Proxy
                                should be nested under.
                              type: string
                            redeemUrl:
                              description: |-
                                Defines the endpoint to redeem the authorization code received from the OAuth code flow.
                                Must be set if OIDC.SkipDiscovery is true
                              type: string
                            redisStore:
                              description: Settings for Redis store when SessionStoreType
                                is redis.
                              properties:
                                connectionUrl:
                                  description: Defines the URL for the Redis server.
                                  type: string
                              required:
                              - connectionUrl
                              type: object
                            scope:
                              description: Requested scopes.
                              type: string
                            sessionStoreType:
                              description: Defines where to store session data.
                              enum:
                              - cookie
                              - redis
                              - ""
                              type: string
                            setAuthorizationHeader:
                              description: Defines if the IDToken received by the
                                OAuth Proxy should be added to the Authorization header.
                              type: boolean
                            setXAuthRequestHeaders:
                              description: |-
                                Defines if claims from the access token is added to the X-Auth-Request-User, X-Auth-Request-Groups,
                                X-Auth-Request-Email and X-Auth-Request-Preferred-Username request headers.
                                The access token is passed in the X-Auth-Request-Access-Token header.
                              type: boolean
                            skipAuthRoutes:
                              description: |-
                                SkipAuthRoutes defines regex pattern of routes that should not be authenticated. Notice the ^ prefix and $ suffix to make sure the whole path is matched
                                example: GET=^/healthz$
                              items:
                                type: string
                              type: array
                          type: object
                      type: object
                    command:
                      description: |-
                        Entrypoint array. Not executed within a shell.
                        The container image's ENTRYPOINT is used if this is not provided.
                        Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                        cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                        to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                        produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                        of whether the variable exists or not. Cannot be updated.
                        More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: atomic
                    dockerfileName:
                      description: |-
                        Name of the Dockerfile that builds the component.
                        More info: https://www.radix.equinor.com/radix-config#dockerfilename
                      type: string
                    enabled:
                      description: |-
                        Controls if the component shall be deployed.
                        More info: https://www.radix.equinor.com/radix-config#enabled
                      type: boolean
                    environmentConfig:
                      description: |-
                        Configure environment specific settings for the component.
                        More info: https://www.radix.equinor.com/radix-config#environmentconfig
                      items:
                        description: RadixEnvironmentConfig defines environment specific
                          settings for component.
                        properties:
                          alwaysPullImageOnDeploy:
                            description: Forces check/pull of images using static
                              tags, e.g. myimage:latest, when deploying using deploy-only.
                            type: boolean
                          args:
                            description: |-
                              Arguments to the entrypoint.
                              The container image's CMD is used if this is not provided.
                              Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                              cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                              to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                              produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                              of whether the variable exists or not.
                              More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                          authentication:
                            description: |-
                              Environment specific configuration for TLS client certificate or OAuth2 authentication.
                              More info: https://www.radix.equinor.com/radix-config#authentication
                            properties:
                              clientCertificate:
                                description: |-
                                  Configuration for TLS client certificate authentication.
                                  More info: https://www.radix.equinor.com/radix-config#clientcertificate
                                properties:
                                  passCertificateToUpstream:
                                    description: |-
                                      Pass client certificate to backend in header ssl-client-cert.
                                      This setting has no effect if verification is set to off.
                                    type: boolean
                                  verification:
                                    description: Defines how the client certificate
                                      shall be verified.
                                    enum:
                                    - "on"
                                    - "off"
                                    - optional
                                    - optional_no_ca
                                    type: string
                                type: object
                              oauth2:
                                description: |-
                                  Configuration for OAuth2 authentication.
                                  More info: https://www.radix.equinor.com/radix-config#oauth2
                                properties:
                                  clientId:
                                    description: Client ID of the application.
                                    type: string
                                  cookie:
                                    description: Session cookie settings.
                                    properties:
                                      expire:
                                        description: Defines the expire timeframe
                                          for the session cookie.
                                        type: string
                                      name:
                                        description: Defines the name of the OAuth
                                          session cookie.
                                        type: string
                                      refresh:
                                        description: |-
                                          The interval between cookie refreshes.
                                          The value must be a shorter timeframe than values set in Expire.
                                        type: string
                                      sameSite:
                                        description: Defines the samesite cookie attribute
                                        enum:
                                        - strict
                                        - lax
                                        - none
                                        - ""
                                        type: string
                                    type: object
                                  cookieStore:
                                    description: Settings for the cookie that stores
                                      session data when SessionStoreType is cookie.
                                    properties:
                                      minimal:
                                        description: |-
                                          Strips OAuth tokens from cookies if they are not needed.
                                          Cookie.Refresh must be 0, and both SetXAuthRequestHeaders and SetAuthorizationHeader must be false if this setting is true.
                                        type: boolean
                                    type: object
                                  credentials:
                                    default: secret
                                    description: Credentials defines credentials type
                                      for authenticating. Default is a Secret, which
                                      represents a client secret.
                                    enum:
                                    - secret
                                    - azureWorkloadIdentity
                                    - ""
                                    type: string
                                  loginUrl:
                                    description: |-
                                      Defines the authentication endpoint of the identity provider.
                                      Must be set if OIDC.SkipDiscovery is true
                                    type: string
                                  oidc:
                                    description: OIDC settings.
                                    properties:
                                      insecureSkipVerifyNonce:
                                        description: Skip verifying the OIDC ID Token's
                                          nonce claim
                                        type: boolean
                                      issuerUrl:
                                        description: Defines the OIDC issuer URL.
                                        type: string
                                      jwksUrl:
                                        description: |-
                                          Defines the OIDC JWKS URL for token verification.
                                          Required if OIDC discovery is disabled.
                                        type: string
                                      skipDiscovery:
                                        description: |-
                                          Defines if OIDC endpoint discovery should be bypassed.
                                          LoginURL, RedeemURL, JWKSURL must be configured if discovery is disabled.
                                        type: boolean
                                    type: object
                                  proxyPrefix:
                                    description: Defines the url root path that OAuth
                                      Proxy should be nested under.
                                    type: string
                                  redeemUrl:
                                    description: |-
                                      Defines the endpoint to redeem the authorization code received from the OAuth code flow.
                                      Must be set if OIDC.SkipDiscovery is true
                                    type: string
                                  redisStore:
                                    description: Settings for Redis store when SessionStoreType
                                      is redis.
                                    properties:
                                      connectionUrl:
                                        description: Defines the URL for the Redis
                                          server.
                                        type: string
                                    required:
                                    - connectionUrl
                                    type: object
                                  scope:
                                    description: Requested scopes.
                                    type: string
                                  sessionStoreType:
                                    description: Defines where to store session data.
                                    enum:
                                    - cookie
                                    - redis
                                    - ""
                                    type: string
                                  setAuthorizationHeader:
                                    description: Defines if the IDToken received by
                                      the OAuth Proxy should be added to the Authorization
                                      header.
                                    type: boolean
                                  setXAuthRequestHeaders:
                                    description: |-
                                      Defines if claims from the access token is added to the X-Auth-Request-User, X-Auth-Request-Groups,
                                      X-Auth-Request-Email and X-Auth-Request-Preferred-Username request headers.
                                      The access token is passed in the X-Auth-Request-Access-Token header.
                                    type: boolean
                                  skipAuthRoutes:
                                    description: |-
                                      SkipAuthRoutes defines regex pattern of routes that should not be authenticated. Notice the ^ prefix and $ suffix to make sure the whole path is matched
                                      example: GET=^/healthz$
                                    items:
                                      type: string
                                    type: array
                                type: object
                            type: object
                          command:
                            description: |-
                              Entrypoint array. Not executed within a shell.
                              The container image's ENTRYPOINT is used if this is not provided.
                              Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                              cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                              to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                              produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                              of whether the variable exists or not.
                              More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                          dockerfileName:
                            description: |-
                              Name of the Dockerfile that builds the component.
                              More info: https://www.radix.equinor.com/radix-config#dockerfilename
                            type: string
                          enabled:
                            description: |-
                              Controls if the component shall be deployed to this environment.
                              More info: https://www.radix.equinor.com/radix-config#enabled
                            type: boolean
                          environment:
                            description: Name of the environment which the settings
                              applies to.
                            maxLength: 63
                            minLength: 1
                            pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                            type: string
                          healthChecks:
                            description: |-
                              HealthChecks can tell Radix if your application is ready to receive traffic.
                              Defaults to a TCP check against your first listed port.
                              If any healthchecks are defined, no defaults will be added and you should add your own readinessProbe.
                            properties:
                              livenessProbe:
                                description: |-
                                  Periodic probe of container liveness.
                                  Container will be restarted if the probe fails.
                                  More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                properties:
                                  exec:
                                    description: Exec specifies the action to take.
                                    properties:
                                      command:
                                        description: |-
                                          Command is the command line to execute inside the container, the working directory for the
                                          command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                          not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                          a shell, you need to explicitly call out to that shell.
                                          Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  failureThreshold:
                                    default: 3
                                    description: Minimum consecutive failures for
                                      the probe to be considered failed after having
                                      succeeded.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  grpc:
                                    description: GRPC specifies an action involving
                                      a GRPC port.
                                    properties:
                                      port:
                                        description: Port number of the gRPC service.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      service:
                                        default: ""
                                        description: |-
                                          Service is the name of the service to place in the gRPC HealthCheckRequest
                                          (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                          If this is not specified, the default behavior is defined by gRPC.
                                        type: string
                                    required:
                                    - port
                                    type: object
                                  httpGet:
                                    description: HTTPGet specifies the http request
                                      to perform.
                                    properties:
                                      host:
                                        description: |-
                                          Host name to connect to, defaults to the pod IP. You probably want to set
                                          "Host" in httpHeaders instead.
                                        type: string
                                      httpHeaders:
                                        description: Custom headers to set in the
                                          request. HTTP allows repeated headers.
                                        items:
                                          description: HTTPHeader describes a custom
                                            header to be used in HTTP probes
                                          properties:
                                            name:
                                              description: |-
                                                The header field name.
                                                This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                              type: string
                                            value:
                                              description: The header field value
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      path:
                                        description: Path to access on the HTTP server.
                                        type: string
                                      port:
                                        description: port number to access on the
                                          container.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      scheme:
                                        description: |-
                                          Scheme to use for connecting to the host.
                                          Defaults to HTTP.
                                        enum:
                                        - HTTPS
                                        - HTTP
                                        type: string
                                    required:
                                    - port
                                    type: object
                                  initialDelaySeconds:
                                    description: |-
                                      Number of seconds after the container has started before liveness probes are initiated.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    format: int32
                                    type: integer
                                  periodSeconds:
                                    default: 10
                                    description: How often (in seconds) to perform
                                      the probe.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  successThreshold:
                                    default: 1
                                    description: |-
                                      Minimum consecutive successes for the probe to be considered successful after having failed.
                                      Must be 1 for liveness and startup.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  tcpSocket:
                                    description: TCPSocket specifies an action involving
                                      a TCP port.
                                    properties:
                                      host:
                                        description: 'Optional: Host name to connect
                                          to, defaults to the pod IP.'
                                        type: string
                                      port:
                                        description: port number to access on the
                                          container.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                    required:
                                    - port
                                    type: object
                                  timeoutSeconds:
                                    default: 1
                                    description: |-
                                      Number of seconds after which the probe times out.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    format: int32
                                    minimum: 1
                                    type: integer
                                type: object
                              readinessProbe:
                                description: |-
                                  Periodic probe of container service readiness.
                                  Container will be removed from service endpoints if the probe fails.
                                  More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                  Defaults to TCP Probe against the first listed port
                                properties:
                                  exec:
                                    description: Exec specifies the action to take.
                                    properties:
                                      command:
                                        description: |-
                                          Command is the command line to execute inside the container, the working directory for the
                                          command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                          not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                          a shell, you need to explicitly call out to that shell.
                                          Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  failureThreshold:
                                    default: 3
                                    description: Minimum consecutive failures for
                                      the probe to be considered failed after having
                                      succeeded.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  grpc:
                                    description: GRPC specifies an action involving
                                      a GRPC port.
                                    properties:
                                      port:
                                        description: Port number of the gRPC service.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      service:
                                        default: ""
                                        description: |-
                                          Service is the name of the service to place in the gRPC HealthCheckRequest
                                          (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                          If this is not specified, the default behavior is defined by gRPC.
                                        type: string
                                    required:
                                    - port
                                    type: object
                                  httpGet:
                                    description: HTTPGet specifies the http request
                                      to perform.
                                    properties:
                                      host:
                                        description: |-
                                          Host name to connect to, defaults to the pod IP. You probably want to set
                                          "Host" in httpHeaders instead.
                                        type: string
                                      httpHeaders:
                                        description: Custom headers to set in the
                                          request. HTTP allows repeated headers.
                                        items:
                                          description: HTTPHeader describes a custom
                                            header to be used in HTTP probes
                                          properties:
                                            name:
                                              description: |-
                                                The header field name.
                                                This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                              type: string
                                            value:
                                              description: The header field value
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      path:
                                        description: Path to access on the HTTP server.
                                        type: string
                                      port:
                                        description: port number to access on the
                                          container.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      scheme:
                                        description: |-
                                          Scheme to use for connecting to the host.
                                          Defaults to HTTP.
                                        enum:
                                        - HTTPS
                                        - HTTP
                                        type: string
                                    required:
                                    - port
                                    type: object
                                  initialDelaySeconds:
                                    description: |-
                                      Number of seconds after the container has started before liveness probes are initiated.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    format: int32
                                    type: integer
                                  periodSeconds:
                                    default: 10
                                    description: How often (in seconds) to perform
                                      the probe.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  successThreshold:
                                    default: 1
                                    description: |-
                                      Minimum consecutive successes for the probe to be considered successful after having failed.
                                      Must be 1 for liveness and startup.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  tcpSocket:
                                    description: TCPSocket specifies an action involving
                                      a TCP port.
                                    properties:
                                      host:
                                        description: 'Optional: Host name to connect
                                          to, defaults to the pod IP.'
                                        type: string
                                      port:
                                        description: port number to access on the
                                          container.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                    required:
                                    - port
                                    type: object
                                  timeoutSeconds:
                                    default: 1
                                    description: |-
                                      Number of seconds after which the probe times out.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    format: int32
                                    minimum: 1
                                    type: integer
                                type: object
                              startupProbe:
                                description: |-
                                  StartupProbe indicates that the Pod has successfully initialized.
                                  If specified, no other probes are executed until this completes successfully.
                                  If this probe fails, the Pod will be restarted, just as if the livenessProbe failed.
                                  This can be used to provide different probe parameters at the beginning of a Pod's lifecycle,
                                  when it might take a long time to load data or warm a cache, than during steady-state operation.
                                  More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                properties:
                                  exec:
                                    description: Exec specifies the action to take.
                                    properties:
                                      command:
                                        description: |-
                                          Command is the command line to execute inside the container, the working directory for the
                                          command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                          not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                          a shell, you need to explicitly call out to that shell.
                                          Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  failureThreshold:
                                    default: 3
                                    description: Minimum consecutive failures for
                                      the probe to be considered failed after having
                                      succeeded.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  grpc:
                                    description: GRPC specifies an action involving
                                      a GRPC port.
                                    properties:
                                      port:
                                        description: Port number of the gRPC service.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      service:
                                        default: ""
                                        description: |-
                                          Service is the name of the service to place in the gRPC HealthCheckRequest
                                          (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                          If this is not specified, the default behavior is defined by gRPC.
                                        type: string
                                    required:
                                    - port
                                    type: object
                                  httpGet:
                                    description: HTTPGet specifies the http request
                                      to perform.
                                    properties:
                                      host:
                                        description: |-
                                          Host name to connect to, defaults to the pod IP. You probably want to set
                                          "Host" in httpHeaders instead.
                                        type: string
                                      httpHeaders:
                                        description: Custom headers to set in the
                                          request. HTTP allows repeated headers.
                                        items:
                                          description: HTTPHeader describes a custom
                                            header to be used in HTTP probes
                                          properties:
                                            name:
                                              description: |-
                                                The header field name.
                                                This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                              type: string
                                            value:
                                              description: The header field value
                                              type: string
                                          required:
                                          - name
                                          - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      path:
                                        description: Path to access on the HTTP server.
                                        type: string
                                      port:
                                        description: port number to access on the
                                          container.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                      scheme:
                                        description: |-
                                          Scheme to use for connecting to the host.
                                          Defaults to HTTP.
                                        enum:
                                        - HTTPS
                                        - HTTP
                                        type: string
                                    required:
                                    - port
                                    type: object
                                  initialDelaySeconds:
                                    description: |-
                                      Number of seconds after the container has started before liveness probes are initiated.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    format: int32
                                    type: integer
                                  periodSeconds:
                                    default: 10
                                    description: How often (in seconds) to perform
                                      the probe.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  successThreshold:
                                    default: 1
                                    description: |-
                                      Minimum consecutive successes for the probe to be considered successful after having failed.
                                      Must be 1 for liveness and startup.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  tcpSocket:
                                    description: TCPSocket specifies an action involving
                                      a TCP port.
                                    properties:
                                      host:
                                        description: 'Optional: Host name to connect
                                          to, defaults to the pod IP.'
                                        type: string
                                      port:
                                        description: port number to access on the
                                          container.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                    required:
                                    - port
                                    type: object
                                  timeoutSeconds:
                                    default: 1
                                    description: |-
                                      Number of seconds after which the probe times out.
                                      More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                    format: int32
                                    minimum: 1
                                    type: integer
                                type: object
                            type: object
                          horizontalScaling:
                            description: |-
                              Configuration for automatic horizontal scaling of replicas.
                              More info: https://www.radix.equinor.com/radix-config#horizontalscaling
                            properties:
                              cooldownPeriod:
                                description: CooldownPeriod to wait after the last
                                  trigger reported active before scaling the resource
                                  back to 0. Defaults to 5min
                                format: int32
                                minimum: 15
                                type: integer
                              maxReplicas:
                                description: Defines the maximum number of replicas.
                                format: int32
                                minimum: 1
                                type: integer
                              minReplicas:
                                default: 1
                                description: Defines the minimum number of replicas.
                                format: int32
                                minimum: 0
                                type: integer
                              pollingInterval:
                                description: PollingInterval configures how often
                                  to check each trigger on. Defaults to 30sec
                                format: int32
                                minimum: 15
                                type: integer
                              resources:
                                description: |-
                                  Deprecated: Use CPU and/or Memory triggers instead
                                  Defines the resource usage parameters for the horizontal pod autoscaler.
                                properties:
                                  cpu:
                                    description: Defines the CPU usage parameters
                                      for the horizontal pod autoscaler.
                                    properties:
                                      averageUtilization:
                                        description: Defines the resource usage which
                                          triggers scaling for the horizontal pod
                                          autoscaler.
                                        format: int32
                                        minimum: 1
                                        type: integer
                                    required:
                                    - averageUtilization
                                    type: object
                                  memory:
                                    description: Defines the memory usage parameters
                                      for the horizontal pod autoscaler.
                                    properties:
                                      averageUtilization:
                                        description: Defines the resource usage which
                                          triggers scaling for the horizontal pod
                                          autoscaler.
                                        format: int32
                                        minimum: 1
                                        type: integer
                                    required:
                                    - averageUtilization
                                    type: object
                                type: object
                              triggers:
                                description: Defines a list of triggers the component
                                  replicas will scale on. Defaults to 80% CPU.
                                items:
                                  description: RadixHorizontalScalingTrigger defines
                                    configuration for a specific trigger.
                                  maxProperties: 2
                                  minProperties: 2
                                  properties:
                                    azureServiceBus:
                                      description: AzureServiceBus defines a trigger
                                        that scales based on number of messages in
                                        queue
                                      properties:
                                        activationMessageCount:
                                          description: 'ActivationMessageCount = Target
                                            value for activating the scaler. (Default:
                                            0, Optional)'
                                          minimum: 0
                                          type: integer
                                        authentication:
                                          description: Azure Service Bus requires
                                            Workload Identity configured with a ClientID
                                          properties:
                                            identity:
                                              description: RadixHorizontalScalingRequiredIdentity
                                                configuration for federation with
                                                required azure identity providers.
                                              properties:
                                                azure:
                                                  description: Azure identity configuration
                                                  properties:
                                                    clientId:
                                                      description: Defines the Client
                                                        ID for a user defined managed
                                                        identity or application ID
                                                        for an application registration.
                                                      type: string
                                                  required:
                                                  - clientId
                                                  type: object
                                              required:
                                              - azure
                                              type: object
                                          required:
                                          - identity
                                          type: object
                                        messageCount:
                                          description: |-
                                            MessageCount  - Amount of active messages in your Azure Service Bus queue or topic to scale on. Defaults to 5 messages
                                            DesiredReplicas Number of replicas to which the resource has to be scaled between the start and end of the cron schedule.
                                          minimum: 1
                                          type: integer
                                        namespace:
                                          description: Namespace - Name of the Azure
                                            Service Bus namespace that contains your
                                            queue or topic. Required when using workload
                                            identity
                                          maxLength: 50
                                          minLength: 6
                                          pattern: ^(([a-z][-a-z0-9]*)?[a-z0-9])?$
                                          type: string
                                        queueName:
                                          description: QueueName selects the target
                                            queue. QueueName wil take precedence over
                                            TopicName.
                                          maxLength: 260
                                          minLength: 1
                                          pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                          type: string
                                        subscriptionName:
                                          description: SubscriptionName is required
                                            when TopicName is set.
                                          maxLength: 50
                                          minLength: 1
                                          pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                          type: string
                                        topicName:
                                          description: TopicName selectes the target
                                            topic, requires SubscriptionName to be
                                            set.
                                          maxLength: 260
                                          minLength: 1
                                          pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                          type: string
                                      required:
                                      - authentication
                                      - namespace
                                      type: object
                                    cpu:
                                      description: Cpu defines a trigger based on
                                        CPU usage
                                      properties:
                                        value:
                                          description: Value - the target value is
                                            the average of the resource metric across
                                            all relevant pods, represented as a percentage
                                            of the requested value of the resource
                                            for the pods.
                                          minimum: 15
                                          type: integer
                                      required:
                                      - value
                                      type: object
                                    cron:
                                      description: Cron defines a trigger that scales
                                        based on start and end times
                                      properties:
                                        desiredReplicas:
                                          description: DesiredReplicas Number of replicas
                                            to which the resource has to be scaled
                                            between the start and end of the cron
                                            schedule.
                                          minimum: 1
                                          type: integer
                                        end:
                                          description: End is a Cron expression indicating
                                            the End of the cron schedule.
                                          pattern: ^((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*)
                                            ?){5})$
                                          type: string
                                        start:
                                          description: Start is a Cron expression
                                            indicating the start of the cron schedule.
                                          pattern: ^((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*)
                                            ?){5})$
                                          type: string
                                        timezone:
                                          description: Timezone One of the acceptable
                                            values from the IANA Time Zone Database.
                                            The list of timezones can be found at
                                            https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
                                          type: string
                                      required:
                                      - desiredReplicas
                                      - end
                                      - start
                                      - timezone
                                      type: object
                                    memory:
                                      description: Memory defines a trigger based
                                        on memory usage
                                      properties:
                                        value:
                                          description: Value - the target value is
                                            the average of the resource metric across
                                            all relevant pods, represented as a percentage
                                            of the requested value of the resource
                                            for the pods.
                                          minimum: 15
                                          type: integer
                                      required:
                                      - value
                                      type: object
                                    name:
                                      description: Name of trigger, must be unique
                                      maxLength: 50
                                      minLength: 1
                                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                                      type: string
                                  required:
                                  - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                - name
                                x-kubernetes-list-type: map
                            required:
                            - maxReplicas
                            type: object
                          identity:
                            description: |-
                              Environment specific configuration for workload identity (federated credentials).
                              More info: https://www.radix.equinor.com/radix-config#identity
                            properties:
                              azure:
                                description: Azure identity configuration
                                properties:
                                  clientId:
                                    description: Defines the Client ID for a user
                                      defined managed identity or application ID for
                                      an application registration.
                                    type: string
                                required:
                                - clientId
                                type: object
                            type: object
                          image:
                            description: |-
                              Name of an existing container image to use when running the component.
                              More info: https://www.radix.equinor.com/radix-config#image
                            type: string
                          imageTagName:
                            description: |-
                              The imageTagName allows for flexible configuration of fixed images,
                              built outside of Radix, to be configured with separate tag for each environment.
                              More info: https://www.radix.equinor.com/radix-config#imagetagname
                            type: string
                          monitoring:
                            description: |-
                              Enabled or disables collection of custom Prometheus metrics.
                              More info: https://www.radix.equinor.com/radix-config#monitoring
                            type: boolean
                          network:
                            description: Environment specific network settings.
                            properties:
                              ingress:
                                description: Ingress defines settings for ingress
                                  traffic.
                                properties:
                                  public:
                                    description: Public defines settings for public
                                      traffic.
                                    properties:
                                      allow:
                                        description: |-
                                          Allow defines a list of public IP addresses or CIDRs which are allowed to access the component.
                                          All IP addresses are allowed if this field is empty or not set.
                                        items:
                                          description: IP address or CIDR.
                                          pattern: ^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$
                                          type: string
                                        type: array
                                      proxyBodySize:
                                        description: |-
                                          Sets the maximum allowed size of the client request body.
                                          Sizes can be specified in bytes, kilobytes (suffixes k and K), megabytes (suffixes m and M), or gigabytes (suffixes g and G) for example, "1024", "64k", "32m", "2g"
                                          If the size in a request exceeds the configured value, the 413 (Request Entity Too Large) error is returned to the client.
                                          Setting size to 0 disables checking of client request body size.
                                        pattern: ^(?:0|[1-9][0-9]*[kKmMgG]?)$
                                        type: string
                                      proxyBufferSize:
                                        description: |-
                                          Sets the size of the buffer used for reading the first part of the response received from the proxied server.
                                          The size must be large enough to hold the response headers.
                                          Sizes can be specified in bytes, kilobytes (suffixes k and K), megabytes (suffixes m and M), or gigabytes (suffixes g and G) for example, "1024", "64k", "32m", "2g"
                                          If the response headers exceed the buffer size, the 502 (Bad Gateway) error is returned to the client.
                                        pattern: ^(?:0|[1-9][0-9]*[kKmMgG]?)$
                                        type: string
                                      proxyReadTimeout:
                                        description: |-
                                          Defines a timeout, in seconds, for reading a response from the proxied server.
                                          The timeout is set only between two successive read operations, not for the transmission of the whole response.
                                          If the proxied server does not transmit anything within this time, the connection is closed.
                                        minimum: 0
                                        type: integer
                                      proxySendTimeout:
                                        description: |-
                                          Defines a timeout, in seconds, for transmitting a request to the proxied server.
                                          The timeout is set only between two successive write operations, not for the transmission of the whole request.
                                          If the proxied server does not receive anything within this time, the connection is closed.
                                        minimum: 0
                                        type: integer
                                    type: object
                                type: object
                            type: object
                          node:
                            description: |-
                              Deprecated: use Runtime.NodeType instead.
                              Environment specific GPU requirements for the component.
                              More info: https://www.radix.equinor.com/radix-config#node
                            properties:
                              gpu:
                                description: |-
                                  Defines rules for allowed GPU types.
                                  More info: https://www.radix.equinor.com/radix-config#gpu
                                type: string
                              gpuCount:
                                description: Defines minimum number of required GPUs.
                                type: string
                            type: object
                          readOnlyFileSystem:
                            description: Controls if the filesystem shall be read-only.
                            type: boolean
                          replicas:
                            description: |-
                              Number of desired replicas.
                              More info: https://www.radix.equinor.com/radix-config#replicas
                            minimum: 0
                            type: integer
                          resources:
                            description: |-
                              Environment specific configuration for CPU and memory resources.
                              More info: https://www.radix.equinor.com/radix-config#resources
                            properties:
                              limits:
                                additionalProperties:
                                  type: string
                                description: Limits describes the maximum amount of
                                  compute resources allowed.
                                type: object
                              requests:
                                additionalProperties:
                                  type: string
                                description: |-
                                  Requests describes the minimum amount of compute resources required.
                                  If Requests is omitted for a container, it defaults to Limits if
                                  that is explicitly specified, otherwise to an implementation-defined value.
                                type: object
                            type: object
                          runtime:
                            description: Runtime defines environment specific target
                              runtime requirements for the component
                            properties:
                              architecture:
                                description: CPU architecture target for the component
                                  or job. When Architecture and NodeType are not defined,
                                  the Architecture defaults to amd64.
                                enum:
                                - amd64
                                - arm64
                                - ""
                                type: string
                              nodeType:
                                description: |-
                                  Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                                  More info: https://www.radix.equinor.com/radix-config#nodetype
                                maxLength: 120
                                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                                type: string
                            type: object
                          secretRefs:
                            description: |-
                              Environment specific configuration for external secret stores, like Azure KeyVault.
                              More info: https://www.radix.equinor.com/radix-config#secretrefs
                            properties:
                              azureKeyVaults:
                                description: List of Azure Key Vaults to get secrets
                                  from.
                                items:
                                  description: RadixAzureKeyVault defines an Azure
                                    keyvault.
                                  properties:
                                    items:
                                      description: List of keyvault items (secrets,
                                        keys and certificates).
                                      items:
                                        description: 'RadixAzureKeyVaultItem defines
                                          Azure Key Vault setting: secrets, keys,
                                          certificates'
                                        properties:
                                          alias:
                                            description: Alias overrides the default
                                              file name used when mounting the secret,
                                              key or certificate.
                                            minLength: 1
                                            type: string
                                          encoding:
                                            description: |-
                                              Encoding defines the encoding of a keyvault item when stored in the container.
                                              Setting encoding to base64 and format to pfx will fetch and write the base64 decoded pfx binary.
                                            enum:
                                            - base64
                                            type: string
                                          envVar:
                                            description: Defines the name of the environment
                                              variable that will contain the value
                                              of the secret, key or certificate.
                                            type: string
                                          format:
                                            description: |-
                                              Defines the format of the keyvault item.
                                              pfx is only supported with type secret and PKCS12 or ECC certificate.
                                              Default format for certificates is pem.
                                            enum:
                                            - pem
                                            - pfx
                                            type: string
                                          k8sSecretType:
                                            description: |-
                                              K8sSecretType defines the type of Kubernetes secret the keyvault item will be stored in.
                                              opaque corresponds to "Opaque" and "kubernetes.io/tls" secret types: https://kubernetes.io/docs/concepts/configuration/secret/#secret-types
                                            enum:
                                            - opaque
                                            - tls
                                            type: string
                                          name:
                                            description: Name of a secret, key or
                                              certificate in the keyvault.
                                            maxLength: 127
                                            minLength: 1
                                            type: string
                                          type:
                                            description: Type of item in the keyvault
                                              referenced by the name.
                                            enum:
                                            - secret
                                            - key
                                            - cert
                                            type: string
                                          version:
                                            description: |-
                                              Defines that a specific version of a keyvault item should be loaded.
                                              The latest version is loaded when this field is not set.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      minItems: 1
                                      type: array
                                    name:
                                      description: Name of the Azure keyvault.
                                      maxLength: 24
                                      minLength: 3
                                      type: string
                                    path:
                                      description: Path where secrets from the keyvault
                                        is mounted.
                                      minLength: 1
                                      type: string
                                    useAzureIdentity:
                                      description: UseAzureIdentity defines that credentials
                                        for accessing Azure Key Vault will be acquired
                                        using Azure Workload Identity instead of using
                                        a ClientID and Secret.
                                      type: boolean
                                  required:
                                  - items
                                  - name
                                  type: object
                                type: array
                            type: object
                          src:
                            description: |-
                              Path to the Dockerfile that builds the component.
                              More info: https://www.radix.equinor.com/radix-config#src
                            type: string
                          variables:
                            additionalProperties:
                              type: string
                            description: |-
                              Environment specific environment variables.
                              Variable names defined here have precedence over variables defined on component level.
                            type: object
                          volumeMounts:
                            description: |-
                              Configuration for mounting cloud storage into the component.
                              More info: https://www.radix.equinor.com/radix-config#volumemounts
                            items:
                              description: RadixVolumeMount defines an external storage
                                resource.
                              properties:
                                accessMode:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                    More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                  enum:
                                  - ReadOnlyMany
                                  - ReadWriteOnce
                                  - ReadWriteMany
                                  - ""
                                  type: string
                                blobFuse2:
                                  description: BlobFuse2 settings for Azure Storage
                                    FUSE CSI driver with the protocol fuse2
                                  properties:
                                    accessMode:
                                      description: |-
                                        Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                        More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                      enum:
                                      - ReadOnlyMany
                                      - ReadWriteOnce
                                      - ReadWriteMany
                                      - ""
                                      type: string
                                    attributeCache:
                                      description: Configure attribute cache settings.
                                      properties:
                                        timeout:
                                          description: The timeout (in seconds) for
                                            the attribute cache entries. Default 0.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                      type: object
                                    blockCache:
                                      description: Configure block cache settings.
                                        Applicable when cacheMode is Block.
                                      properties:
                                        blockSize:
                                          description: Size (in MB) of a block to
                                            be downloaded as a unit. Default is 4.
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        diskSize:
                                          description: |-
                                            Size (in MB) of total disk capacity that block cache can use.
                                            0 (default) disables disk caching.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        diskTimeout:
                                          description: Timeout (in seconds) for which
                                            persisted data remains in disk cache.
                                            Default 120.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        parallelism:
                                          description: Number of worker thread responsible
                                            for upload/download jobs. Default 8.
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        poolSize:
                                          description: |-
                                            Size (in MB) of total memory preallocated for block-cache.
                                            Minimum value = (prefetchCount + 1) * blockSize
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        prefetchCount:
                                          description: |-
                                            Max number of blocks to prefetch. Default 11.
                                            Value must be 0 (prefetching disabled) or greater than 10.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        prefetchOnOpen:
                                          description: Start prefetching on open or
                                            wait for first read. Default false.
                                          type: boolean
                                      type: object
                                    cacheMode:
                                      description: |-
                                        Defines how files should be cached.

                                        File: Reads and caches the entire file
                                        Block (default): Blocks of fixed size are downloaded and cached
                                        DirectIO: Caching is disabled. All IO is passed directly to the storage account.
                                      enum:
                                      - File
                                      - Block
                                      - DirectIO
                                      type: string
                                    container:
                                      description: Container. Name of the container
                                        in the external storage resource.
                                      type: string
                                    fileCache:
                                      description: Configure file cache settings.
                                        Applicable when cacheMode is File.
                                      properties:
                                        timeout:
                                          description: The timeout (in seconds) for
                                            which file cache is valid. Default 120.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                      type: object
                                    gid:
                                      description: GID defines the group ID (number)
                                        which will be set as owner of the mounted
                                        volume.
                                      type: string
                                    protocol:
                                      description: Holds protocols of BlobFuse2 Azure
                                        Storage FUSE driver. Default is fuse2.
                                      enum:
                                      - fuse2
                                      - ""
                                      type: string
                                    requestsStorage:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        Requested size (opens new window)of allocated mounted volume. Default value is set to "1Mi" (1 megabyte). Current version of the driver does not affect mounted volume size
                                        More info: https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolumeclaim
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resourceGroup:
                                      description: ResourceGroup of a storage account.
                                        Applicable when using a workload identity.
                                      type: string
                                    storageAccount:
                                      description: Name of a storage account. It is
                                        mandatory when using a workload identity.
                                        It is optional when using Access Key, if it
                                        is not defined, it will be configured in a
                                        secret.
                                      type: string
                                    streaming:
                                      description: |-
                                        Deprecated: Configure caching with cacheMode.
                                        Configure streaming settings.
                                        More info: https://github.com/Azure/azure-storage-fuse/blob/main/STREAMING.md
                                      properties:
                                        enabled:
                                          description: |-
                                            Deprecated: Configure caching with cacheMode in blobFuse2 section.
                                            Enable streaming mode. Default true.
                                            For backward compatibility, Radix will use cachMode:File if this field is explicitly set to false.
                                          type: boolean
                                      type: object
                                    subscriptionId:
                                      description: SubscriptionId of a storage account.
                                        Applicable when using a workload identity.
                                      type: string
                                    tenantId:
                                      description: TenantId of a storage account.
                                        Applicable when using a workload identity.
                                      type: string
                                    uid:
                                      description: UID defines the user ID (number)
                                        which will be set as owner of the mounted
                                        volume.
                                      type: string
                                    useAdls:
                                      description: |-
                                        Enables blobfuse to access Azure DataLake storage account. When set to false, blobfuse will access Azure Block Blob storage account, hierarchical file system is not supported.
                                        Default false. This must be turned on when HNS enabled account is mounted.
                                      type: boolean
                                    useAzureIdentity:
                                      description: UseAzureIdentity defines that credentials
                                        for accessing Azure Storage will be acquired
                                        using Azure Workload Identity instead of using
                                        a ClientID and Secret.
                                      type: boolean
                                  required:
                                  - container
                                  type: object
                                container:
                                  description: 'Deprecated: Only required by the deprecated
                                    type: blob.'
                                  type: string
                                emptyDir:
                                  description: EmptyDir settings for EmptyDir volume
                                  properties:
                                    sizeLimit:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: SizeLimit defines the size of the
                                        emptyDir volume
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - sizeLimit
                                  type: object
                                gid:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    GID defines the group ID (number) which will be set as owner of the mounted volume.
                                  type: string
                                name:
                                  description: |-
                                    User-defined name of the volume mount.
                                    Must be unique for the component.
                                  maxLength: 40
                                  minLength: 1
                                  type: string
                                path:
                                  description: Path defines in which directory the
                                    external storage is mounted.
                                  minLength: 1
                                  type: string
                                requestsStorage:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                storage:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    Storage defines the name of the container in the external storage resource.
                                  type: string
                                type:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    Type defines the storage type.
                                  enum:
                                  - azure-blob
                                  - ""
                                  type: string
                                uid:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    UID defines the user ID (number) which will be set as owner of the mounted volume.
                                  type: string
                              required:
                              - name
                              - path
                              type: object
                            type: array
                        required:
                        - environment
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - environment
                      x-kubernetes-list-type: map
                    healthChecks:
                      description: |-
                        HealthChecks can tell Radix if your application is ready to receive traffic.
                        Defaults to a TCP check against your first listed port.
                        If any healthchecks are defined, no defaults will be added and you should add your own readinessProbe.
                      properties:
                        livenessProbe:
                          description: |-
                            Periodic probe of container liveness.
                            Container will be restarted if the probe fails.
                            More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                          properties:
                            exec:
                              description: Exec specifies the action to take.
                              properties:
                                command:
                                  description: |-
                                    Command is the command line to execute inside the container, the working directory for the
                                    command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                    not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                    a shell, you need to explicitly call out to that shell.
                                    Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            failureThreshold:
                              default: 3
                              description: Minimum consecutive failures for the probe
                                to be considered failed after having succeeded.
                              format: int32
                              minimum: 1
                              type: integer
                            grpc:
                              description: GRPC specifies an action involving a GRPC
                                port.
                              properties:
                                port:
                                  description: Port number of the gRPC service.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                service:
                                  default: ""
                                  description: |-
                                    Service is the name of the service to place in the gRPC HealthCheckRequest
                                    (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                    If this is not specified, the default behavior is defined by gRPC.
                                  type: string
                              required:
                              - port
                              type: object
                            httpGet:
                              description: HTTPGet specifies the http request to perform.
                              properties:
                                host:
                                  description: |-
                                    Host name to connect to, defaults to the pod IP. You probably want to set
                                    "Host" in httpHeaders instead.
                                  type: string
                                httpHeaders:
                                  description: Custom headers to set in the request.
                                    HTTP allows repeated headers.
                                  items:
                                    description: HTTPHeader describes a custom header
                                      to be used in HTTP probes
                                    properties:
                                      name:
                                        description: |-
                                          The header field name.
                                          This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                        type: string
                                      value:
                                        description: The header field value
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  description: Path to access on the HTTP server.
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: |-
                                    Scheme to use for connecting to the host.
                                    Defaults to HTTP.
                                  enum:
                                  - HTTPS
                                  - HTTP
                                  type: string
                              required:
                              - port
                              type: object
                            initialDelaySeconds:
                              description: |-
                                Number of seconds after the container has started before liveness probes are initiated.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              type: integer
                            periodSeconds:
                              default: 10
                              description: How often (in seconds) to perform the probe.
                              format: int32
                              minimum: 1
                              type: integer
                            successThreshold:
                              default: 1
                              description: |-
                                Minimum consecutive successes for the probe to be considered successful after having failed.
                                Must be 1 for liveness and startup.
                              format: int32
                              minimum: 1
                              type: integer
                            tcpSocket:
                              description: TCPSocket specifies an action involving
                                a TCP port.
                              properties:
                                host:
                                  description: 'Optional: Host name to connect to,
                                    defaults to the pod IP.'
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - port
                              type: object
                            timeoutSeconds:
                              default: 1
                              description: |-
                                Number of seconds after which the probe times out.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                        readinessProbe:
                          description: |-
                            Periodic probe of container service readiness.
                            Container will be removed from service endpoints if the probe fails.
                            More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                            Defaults to TCP Probe against the first listed port
                          properties:
                            exec:
                              description: Exec specifies the action to take.
                              properties:
                                command:
                                  description: |-
                                    Command is the command line to execute inside the container, the working directory for the
                                    command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                    not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                    a shell, you need to explicitly call out to that shell.
                                    Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            failureThreshold:
                              default: 3
                              description: Minimum consecutive failures for the probe
                                to be considered failed after having succeeded.
                              format: int32
                              minimum: 1
                              type: integer
                            grpc:
                              description: GRPC specifies an action involving a GRPC
                                port.
                              properties:
                                port:
                                  description: Port number of the gRPC service.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                service:
                                  default: ""
                                  description: |-
                                    Service is the name of the service to place in the gRPC HealthCheckRequest
                                    (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                    If this is not specified, the default behavior is defined by gRPC.
                                  type: string
                              required:
                              - port
                              type: object
                            httpGet:
                              description: HTTPGet specifies the http request to perform.
                              properties:
                                host:
                                  description: |-
                                    Host name to connect to, defaults to the pod IP. You probably want to set
                                    "Host" in httpHeaders instead.
                                  type: string
                                httpHeaders:
                                  description: Custom headers to set in the request.
                                    HTTP allows repeated headers.
                                  items:
                                    description: HTTPHeader describes a custom header
                                      to be used in HTTP probes
                                    properties:
                                      name:
                                        description: |-
                                          The header field name.
                                          This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                        type: string
                                      value:
                                        description: The header field value
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  description: Path to access on the HTTP server.
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: |-
                                    Scheme to use for connecting to the host.
                                    Defaults to HTTP.
                                  enum:
                                  - HTTPS
                                  - HTTP
                                  type: string
                              required:
                              - port
                              type: object
                            initialDelaySeconds:
                              description: |-
                                Number of seconds after the container has started before liveness probes are initiated.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              type: integer
                            periodSeconds:
                              default: 10
                              description: How often (in seconds) to perform the probe.
                              format: int32
                              minimum: 1
                              type: integer
                            successThreshold:
                              default: 1
                              description: |-
                                Minimum consecutive successes for the probe to be considered successful after having failed.
                                Must be 1 for liveness and startup.
                              format: int32
                              minimum: 1
                              type: integer
                            tcpSocket:
                              description: TCPSocket specifies an action involving
                                a TCP port.
                              properties:
                                host:
                                  description: 'Optional: Host name to connect to,
                                    defaults to the pod IP.'
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - port
                              type: object
                            timeoutSeconds:
                              default: 1
                              description: |-
                                Number of seconds after which the probe times out.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                        startupProbe:
                          description: |-
                            StartupProbe indicates that the Pod has successfully initialized.
                            If specified, no other probes are executed until this completes successfully.
                            If this probe fails, the Pod will be restarted, just as if the livenessProbe failed.
                            This can be used to provide different probe parameters at the beginning of a Pod's lifecycle,
                            when it might take a long time to load data or warm a cache, than during steady-state operation.
                            More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                          properties:
                            exec:
                              description: Exec specifies the action to take.
                              properties:
                                command:
                                  description: |-
                                    Command is the command line to execute inside the container, the working directory for the
                                    command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                    not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                    a shell, you need to explicitly call out to that shell.
                                    Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            failureThreshold:
                              default: 3
                              description: Minimum consecutive failures for the probe
                                to be considered failed after having succeeded.
                              format: int32
                              minimum: 1
                              type: integer
                            grpc:
                              description: GRPC specifies an action involving a GRPC
                                port.
                              properties:
                                port:
                                  description: Port number of the gRPC service.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                service:
                                  default: ""
                                  description: |-
                                    Service is the name of the service to place in the gRPC HealthCheckRequest
                                    (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                    If this is not specified, the default behavior is defined by gRPC.
                                  type: string
                              required:
                              - port
                              type: object
                            httpGet:
                              description: HTTPGet specifies the http request to perform.
                              properties:
                                host:
                                  description: |-
                                    Host name to connect to, defaults to the pod IP. You probably want to set
                                    "Host" in httpHeaders instead.
                                  type: string
                                httpHeaders:
                                  description: Custom headers to set in the request.
                                    HTTP allows repeated headers.
                                  items:
                                    description: HTTPHeader describes a custom header
                                      to be used in HTTP probes
                                    properties:
                                      name:
                                        description: |-
                                          The header field name.
                                          This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                        type: string
                                      value:
                                        description: The header field value
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  description: Path to access on the HTTP server.
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: |-
                                    Scheme to use for connecting to the host.
                                    Defaults to HTTP.
                                  enum:
                                  - HTTPS
                                  - HTTP
                                  type: string
                              required:
                              - port
                              type: object
                            initialDelaySeconds:
                              description: |-
                                Number of seconds after the container has started before liveness probes are initiated.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              type: integer
                            periodSeconds:
                              default: 10
                              description: How often (in seconds) to perform the probe.
                              format: int32
                              minimum: 1
                              type: integer
                            successThreshold:
                              default: 1
                              description: |-
                                Minimum consecutive successes for the probe to be considered successful after having failed.
                                Must be 1 for liveness and startup.
                              format: int32
                              minimum: 1
                              type: integer
                            tcpSocket:
                              description: TCPSocket specifies an action involving
                                a TCP port.
                              properties:
                                host:
                                  description: 'Optional: Host name to connect to,
                                    defaults to the pod IP.'
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - port
                              type: object
                            timeoutSeconds:
                              default: 1
                              description: |-
                                Number of seconds after which the probe times out.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                      type: object
                    horizontalScaling:
                      description: |-
                        Configuration for automatic horizontal scaling of replicas.
                        More info: https://www.radix.equinor.com/radix-config#horizontalscaling
                      properties:
                        cooldownPeriod:
                          description: CooldownPeriod to wait after the last trigger
                            reported active before scaling the resource back to 0.
                            Defaults to 5min
                          format: int32
                          minimum: 15
                          type: integer
                        maxReplicas:
                          description: Defines the maximum number of replicas.
                          format: int32
                          minimum: 1
                          type: integer
                        minReplicas:
                          default: 1
                          description: Defines the minimum number of replicas.
                          format: int32
                          minimum: 0
                          type: integer
                        pollingInterval:
                          description: PollingInterval configures how often to check
                            each trigger on. Defaults to 30sec
                          format: int32
                          minimum: 15
                          type: integer
                        resources:
                          description: |-
                            Deprecated: Use CPU and/or Memory triggers instead
                            Defines the resource usage parameters for the horizontal pod autoscaler.
                          properties:
                            cpu:
                              description: Defines the CPU usage parameters for the
                                horizontal pod autoscaler.
                              properties:
                                averageUtilization:
                                  description: Defines the resource usage which triggers
                                    scaling for the horizontal pod autoscaler.
                                  format: int32
                                  minimum: 1
                                  type: integer
                              required:
                              - averageUtilization
                              type: object
                            memory:
                              description: Defines the memory usage parameters for
                                the horizontal pod autoscaler.
                              properties:
                                averageUtilization:
                                  description: Defines the resource usage which triggers
                                    scaling for the horizontal pod autoscaler.
                                  format: int32
                                  minimum: 1
                                  type: integer
                              required:
                              - averageUtilization
                              type: object
                          type: object
                        triggers:
                          description: Defines a list of triggers the component replicas
                            will scale on. Defaults to 80% CPU.
                          items:
                            description: RadixHorizontalScalingTrigger defines configuration
                              for a specific trigger.
                            maxProperties: 2
                            minProperties: 2
                            properties:
                              azureServiceBus:
                                description: AzureServiceBus defines a trigger that
                                  scales based on number of messages in queue
                                properties:
                                  activationMessageCount:
                                    description: 'ActivationMessageCount = Target
                                      value for activating the scaler. (Default: 0,
                                      Optional)'
                                    minimum: 0
                                    type: integer
                                  authentication:
                                    description: Azure Service Bus requires Workload
                                      Identity configured with a ClientID
                                    properties:
                                      identity:
                                        description: RadixHorizontalScalingRequiredIdentity
                                          configuration for federation with required
                                          azure identity providers.
                                        properties:
                                          azure:
                                            description: Azure identity configuration
                                            properties:
                                              clientId:
                                                description: Defines the Client ID
                                                  for a user defined managed identity
                                                  or application ID for an application
                                                  registration.
                                                type: string
                                            required:
                                            - clientId
                                            type: object
                                        required:
                                        - azure
                                        type: object
                                    required:
                                    - identity
                                    type: object
                                  messageCount:
                                    description: |-
                                      MessageCount  - Amount of active messages in your Azure Service Bus queue or topic to scale on. Defaults to 5 messages
                                      DesiredReplicas Number of replicas to which the resource has to be scaled between the start and end of the cron schedule.
                                    minimum: 1
                                    type: integer
                                  namespace:
                                    description: Namespace - Name of the Azure Service
                                      Bus namespace that contains your queue or topic.
                                      Required when using workload identity
                                    maxLength: 50
                                    minLength: 6
                                    pattern: ^(([a-z][-a-z0-9]*)?[a-z0-9])?$
                                    type: string
                                  queueName:
                                    description: QueueName selects the target queue.
                                      QueueName wil take precedence over TopicName.
                                    maxLength: 260
                                    minLength: 1
                                    pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                    type: string
                                  subscriptionName:
                                    description: SubscriptionName is required when
                                      TopicName is set.
                                    maxLength: 50
                                    minLength: 1
                                    pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                    type: string
                                  topicName:
                                    description: TopicName selectes the target topic,
                                      requires SubscriptionName to be set.
                                    maxLength: 260
                                    minLength: 1
                                    pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                    type: string
                                required:
                                - authentication
                                - namespace
                                type: object
                              cpu:
                                description: Cpu defines a trigger based on CPU usage
                                properties:
                                  value:
                                    description: Value - the target value is the average
                                      of the resource metric across all relevant pods,
                                      represented as a percentage of the requested
                                      value of the resource for the pods.
                                    minimum: 15
                                    type: integer
                                required:
                                - value
                                type: object
                              cron:
                                description: Cron defines a trigger that scales based
                                  on start and end times
                                properties:
                                  desiredReplicas:
                                    description: DesiredReplicas Number of replicas
                                      to which the resource has to be scaled between
                                      the start and end of the cron schedule.
                                    minimum: 1
                                    type: integer
                                  end:
                                    description: End is a Cron expression indicating
                                      the End of the cron schedule.
                                    pattern: ^((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*)
                                      ?){5})$
                                    type: string
                                  start:
                                    description: Start is a Cron expression indicating
                                      the start of the cron schedule.
                                    pattern: ^((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*)
                                      ?){5})$
                                    type: string
                                  timezone:
                                    description: Timezone One of the acceptable values
                                      from the IANA Time Zone Database. The list of
                                      timezones can be found at https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
                                    type: string
                                required:
                                - desiredReplicas
                                - end
                                - start
                                - timezone
                                type: object
                              memory:
                                description: Memory defines a trigger based on memory
                                  usage
                                properties:
                                  value:
                                    description: Value - the target value is the average
                                      of the resource metric across all relevant pods,
                                      represented as a percentage of the requested
                                      value of the resource for the pods.
                                    minimum: 15
                                    type: integer
                                required:
                                - value
                                type: object
                              name:
                                description: Name of trigger, must be unique
                                maxLength: 50
                                minLength: 1
                                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                                type: string
                            required:
                            - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                      required:
                      - maxReplicas
                      type: object
                    identity:
                      description: |-
                        Configuration for workload identity (federated credentials).
                        More info: https://www.radix.equinor.com/radix-config#identity
                      properties:
                        azure:
                          description: Azure identity configuration
                          properties:
                            clientId:
                              description: Defines the Client ID for a user defined
                                managed identity or application ID for an application
                                registration.
                              type: string
                          required:
                          - clientId
                          type: object
                      type: object
                    image:
                      description: |-
                        Name of an existing container image to use when running the component.
                        More info: https://www.radix.equinor.com/radix-config#image
                      type: string
                    imageTagName:
                      description: |-
                        The imageTagName allows for flexible configuration of fixed images,
                        built outside of Radix, it can be also configured with separate tag for each environment.
                        More info: https://www.radix.equinor.com/radix-config#imagetagname
                      type: string
                    ingressConfiguration:
                      description: |-
                        Additional configuration settings for ingress traffic.
                        More info: https://www.radix.equinor.com/radix-config#ingressconfiguration
                      items:
                        type: string
                      type: array
                    monitoring:
                      description: |-
                        Enabled or disables collection of custom Prometheus metrics.
                        More info: https://www.radix.equinor.com/radix-config#monitoring
                      type: boolean
                    monitoringConfig:
                      description: |-
                        Configures the monitoring endpoint exposed by the component.
                        This endpoint is used by Prometheus to collect custom metrics.
                        environmentConfig.monitoring must be set to true to enable collection of metrics for an environment.
                        More info: https://www.radix.equinor.com/radix-config#monitoringconfig
                      properties:
                        path:
                          description: Defines the path where metrics is served.
                          type: string
                        portName:
                          description: Defines which port in the ports list where
                            metrics is served.
                          maxLength: 15
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    name:
                      description: Name of the component.
                      maxLength: 50
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    network:
                      description: Network settings.
                      properties:
                        ingress:
                          description: Ingress defines settings for ingress traffic.
                          properties:
                            public:
                              description: Public defines settings for public traffic.
                              properties:
                                allow:
                                  description: |-
                                    Allow defines a list of public IP addresses or CIDRs which are allowed to access the component.
                                    All IP addresses are allowed if this field is empty or not set.
                                  items:
                                    description: IP address or CIDR.
                                    pattern: ^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$
                                    type: string
                                  type: array
                                proxyBodySize:
                                  description: |-
                                    Sets the maximum allowed size of the client request body.
                                    Sizes can be specified in bytes, kilobytes (suffixes k and K), megabytes (suffixes m and M), or gigabytes (suffixes g and G) for example, "1024", "64k", "32m", "2g"
                                    If the size in a request exceeds the configured value, the 413 (Request Entity Too Large) error is returned to the client.
                                    Setting size to 0 disables checking of client request body size.
                                  pattern: ^(?:0|[1-9][0-9]*[kKmMgG]?)$
                                  type: string
                                proxyBufferSize:
                                  description: |-
                                    Sets the size of the buffer used for reading the first part of the response received from the proxied server.
                                    The size must be large enough to hold the response headers.
                                    Sizes can be specified in bytes, kilobytes (suffixes k and K), megabytes (suffixes m and M), or gigabytes (suffixes g and G) for example, "1024", "64k", "32m", "2g"
                                    If the response headers exceed the buffer size, the 502 (Bad Gateway) error is returned to the client.
                                  pattern: ^(?:0|[1-9][0-9]*[kKmMgG]?)$
                                  type: string
                                proxyReadTimeout:
                                  description: |-
                                    Defines a timeout, in seconds, for reading a response from the proxied server.
                                    The timeout is set only between two successive read operations, not for the transmission of the whole response.
                                    If the proxied server does not transmit anything within this time, the connection is closed.
                                  minimum: 0
                                  type: integer
                                proxySendTimeout:
                                  description: |-
                                    Defines a timeout, in seconds, for transmitting a request to the proxied server.
                                    The timeout is set only between two successive write operations, not for the transmission of the whole request.
                                    If the proxied server does not receive anything within this time, the connection is closed.
                                  minimum: 0
                                  type: integer
                              type: object
                          type: object
                      type: object
                    node:
                      description: |-
                        Deprecated: use Runtime.NodeType instead.
                        Defines GPU requirements for the component.
                        More info: https://www.radix.equinor.com/radix-config#node
                      properties:
                        gpu:
                          description: |-
                            Defines rules for allowed GPU types.
                            More info: https://www.radix.equinor.com/radix-config#gpu
                          type: string
                        gpuCount:
                          description: Defines minimum number of required GPUs.
                          type: string
                      type: object
                    ports:
                      description: List of ports that the component bind to.
                      items:
                        description: ComponentPort defines a named port.
                        properties:
                          name:
                            description: Name of the port.
                            maxLength: 15
                            minLength: 1
                            pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                            type: string
                          port:
                            description: Port number.
                            format: int32
                            maximum: 65535
                            minimum: 1024
                            type: integer
                        required:
                        - name
                        - port
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - name
                      x-kubernetes-list-type: map
                    public:
                      description: 'Deprecated: For backwards compatibility Public
                        is still supported, new code should use PublicPort instead'
                      type: boolean
                    publicPort:
                      description: |-
                        Defines which port (name) from the ports list that shall be accessible from the internet.
                        More info: https://www.radix.equinor.com/radix-config#publicport
                      maxLength: 15
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    readOnlyFileSystem:
                      description: Controls if the filesystem shall be read-only.
                      type: boolean
                    replicas:
                      description: |-
                        Number of desired replicas.
                        More info: https://www.radix.equinor.com/radix-config#replicas
                      minimum: 0
                      type: integer
                    resources:
                      description: |-
                        Configures CPU and memory resources for the component.
                        More info: https://www.radix.equinor.com/radix-config#resources-common
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: Limits describes the maximum amount of compute
                            resources allowed.
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: |-
                            Requests describes the minimum amount of compute resources required.
                            If Requests is omitted for a container, it defaults to Limits if
                            that is explicitly specified, otherwise to an implementation-defined value.
                          type: object
                      type: object
                    runtime:
                      description: Runtime defines the target runtime requirements
                        for the component
                      properties:
                        architecture:
                          description: CPU architecture target for the component or
                            job. When Architecture and NodeType are not defined, the
                            Architecture defaults to amd64.
                          enum:
                          - amd64
                          - arm64
                          - ""
                          type: string
                        nodeType:
                          description: |-
                            Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                            More info: https://www.radix.equinor.com/radix-config#nodetype
                          maxLength: 120
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    secretRefs:
                      description: |-
                        Configuration for external secret stores, like Azure KeyVault.
                        More info: https://www.radix.equinor.com/radix-config#secretrefs
                      properties:
                        azureKeyVaults:
                          description: List of Azure Key Vaults to get secrets from.
                          items:
                            description: RadixAzureKeyVault defines an Azure keyvault.
                            properties:
                              items:
                                description: List of keyvault items (secrets, keys
                                  and certificates).
                                items:
                                  description: 'RadixAzureKeyVaultItem defines Azure
                                    Key Vault setting: secrets, keys, certificates'
                                  properties:
                                    alias:
                                      description: Alias overrides the default file
                                        name used when mounting the secret, key or
                                        certificate.
                                      minLength: 1
                                      type: string
                                    encoding:
                                      description: |-
                                        Encoding defines the encoding of a keyvault item when stored in the container.
                                        Setting encoding to base64 and format to pfx will fetch and write the base64 decoded pfx binary.
                                      enum:
                                      - base64
                                      type: string
                                    envVar:
                                      description: Defines the name of the environment
                                        variable that will contain the value of the
                                        secret, key or certificate.
                                      type: string
                                    format:
                                      description: |-
                                        Defines the format of the keyvault item.
                                        pfx is only supported with type secret and PKCS12 or ECC certificate.
                                        Default format for certificates is pem.
                                      enum:
                                      - pem
                                      - pfx
                                      type: string
                                    k8sSecretType:
                                      description: |-
                                        K8sSecretType defines the type of Kubernetes secret the keyvault item will be stored in.
                                        opaque corresponds to "Opaque" and "kubernetes.io/tls" secret types: https://kubernetes.io/docs/concepts/configuration/secret/#secret-types
                                      enum:
                                      - opaque
                                      - tls
                                      type: string
                                    name:
                                      description: Name of a secret, key or certificate
                                        in the keyvault.
                                      maxLength: 127
                                      minLength: 1
                                      type: string
                                    type:
                                      description: Type of item in the keyvault referenced
                                        by the name.
                                      enum:
                                      - secret
                                      - key
                                      - cert
                                      type: string
                                    version:
                                      description: |-
                                        Defines that a specific version of a keyvault item should be loaded.
                                        The latest version is loaded when this field is not set.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                minItems: 1
                                type: array
                              name:
                                description: Name of the Azure keyvault.
                                maxLength: 24
                                minLength: 3
                                type: string
                              path:
                                description: Path where secrets from the keyvault
                                  is mounted.
                                minLength: 1
                                type: string
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Key Vault will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - items
                            - name
                            type: object
                          type: array
                      type: object
                    secrets:
                      description: |-
                        List of secret environment variable names.
                        More info: https://www.radix.equinor.com/radix-config#secrets
                      items:
                        type: string
                      type: array
                    src:
                      description: |-
                        Path to the Dockerfile that builds the component.
                        More info: https://www.radix.equinor.com/radix-config#src
                      type: string
                    variables:
                      additionalProperties:
                        type: string
                      description: |-
                        List of environment variables and values.
                        More info: https://www.radix.equinor.com/radix-config#variables-common
                      type: object
                    volumeMounts:
                      description: |-
                        Configuration for mounting cloud storage into the component.
                        More info: https://www.radix.equinor.com/radix-config#volumemounts
                      items:
                        description: RadixVolumeMount defines an external storage
                          resource.
                        properties:
                          accessMode:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            enum:
                            - ReadOnlyMany
                            - ReadWriteOnce
                            - ReadWriteMany
                            - ""
                            type: string
                          blobFuse2:
                            description: BlobFuse2 settings for Azure Storage FUSE
                              CSI driver with the protocol fuse2
                            properties:
                              accessMode:
                                description: |-
                                  Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                  More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                enum:
                                - ReadOnlyMany
                                - ReadWriteOnce
                                - ReadWriteMany
                                - ""
                                type: string
                              attributeCache:
                                description: Configure attribute cache settings.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for the
                                      attribute cache entries. Default 0.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              blockCache:
                                description: Configure block cache settings. Applicable
                                  when cacheMode is Block.
                                properties:
                                  blockSize:
                                    description: Size (in MB) of a block to be downloaded
                                      as a unit. Default is 4.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  diskSize:
                                    description: |-
                                      Size (in MB) of total disk capacity that block cache can use.
                                      0 (default) disables disk caching.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  diskTimeout:
                                    description: Timeout (in seconds) for which persisted
                                      data remains in disk cache. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  parallelism:
                                    description: Number of worker thread responsible
                                      for upload/download jobs. Default 8.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  poolSize:
                                    description: |-
                                      Size (in MB) of total memory preallocated for block-cache.
                                      Minimum value = (prefetchCount + 1) * blockSize
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  prefetchCount:
                                    description: |-
                                      Max number of blocks to prefetch. Default 11.
                                      Value must be 0 (prefetching disabled) or greater than 10.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  prefetchOnOpen:
                                    description: Start prefetching on open or wait
                                      for first read. Default false.
                                    type: boolean
                                type: object
                              cacheMode:
                                description: |-
                                  Defines how files should be cached.

                                  File: Reads and caches the entire file
                                  Block (default): Blocks of fixed size are downloaded and cached
                                  DirectIO: Caching is disabled. All IO is passed directly to the storage account.
                                enum:
                                - File
                                - Block
                                - DirectIO
                                type: string
                              container:
                                description: Container. Name of the container in the
                                  external storage resource.
                                type: string
                              fileCache:
                                description: Configure file cache settings. Applicable
                                  when cacheMode is File.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for which
                                      file cache is valid. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              gid:
                                description: GID defines the group ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              protocol:
                                description: Holds protocols of BlobFuse2 Azure Storage
                                  FUSE driver. Default is fuse2.
                                enum:
                                - fuse2
                                - ""
                                type: string
                              requestsStorage:
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  Requested size (opens new window)of allocated mounted volume. Default value is set to "1Mi" (1 megabyte). Current version of the driver does not affect mounted volume size
                                  More info: https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolumeclaim
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              resourceGroup:
                                description: ResourceGroup of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              storageAccount:
                                description: Name of a storage account. It is mandatory
                                  when using a workload identity. It is optional when
                                  using Access Key, if it is not defined, it will
                                  be configured in a secret.
                                type: string
                              streaming:
                                description: |-
                                  Deprecated: Configure caching with cacheMode.
                                  Configure streaming settings.
                                  More info: https://github.com/Azure/azure-storage-fuse/blob/main/STREAMING.md
                                properties:
                                  enabled:
                                    description: |-
                                      Deprecated: Configure caching with cacheMode in blobFuse2 section.
                                      Enable streaming mode. Default true.
                                      For backward compatibility, Radix will use cachMode:File if this field is explicitly set to false.
                                    type: boolean
                                type: object
                              subscriptionId:
                                description: SubscriptionId of a storage account.
                                  Applicable when using a workload identity.
                                type: string
                              tenantId:
                                description: TenantId of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              uid:
                                description: UID defines the user ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              useAdls:
                                description: |-
                                  Enables blobfuse to access Azure DataLake storage account. When set to false, blobfuse will access Azure Block Blob storage account, hierarchical file system is not supported.
                                  Default false. This must be turned on when HNS enabled account is mounted.
                                type: boolean
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Storage will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - container
                            type: object
                          container:
                            description: 'Deprecated: Only required by the deprecated
                              type: blob.'
                            type: string
                          emptyDir:
                            description: EmptyDir settings for EmptyDir volume
                            properties:
                              sizeLimit:
                                anyOf:
                                - type: integer
                                - type: string
                                description: SizeLimit defines the size of the emptyDir
                                  volume
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - sizeLimit
                            type: object
                          gid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              GID defines the group ID (number) which will be set as owner of the mounted volume.
                            type: string
                          name:
                            description: |-
                              User-defined name of the volume mount.
                              Must be unique for the component.
                            maxLength: 40
                            minLength: 1
                            type: string
                          path:
                            description: Path defines in which directory the external
                              storage is mounted.
                            minLength: 1
                            type: string
                          requestsStorage:
                            anyOf:
                            - type: integer
                            - type: string
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          storage:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Storage defines the name of the container in the external storage resource.
                            type: string
                          type:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Type defines the storage type.
                            enum:
                            - azure-blob
                            - ""
                            type: string
                          uid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              UID defines the user ID (number) which will be set as owner of the mounted volume.
                            type: string
                        required:
                        - name
                        - path
                        type: object
                      type: array
                  required:
                  - name
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              dnsAlias:
                description: |-
                  List of DNS names and which component and environment incoming requests shall be routed to.
                  More info: https://www.radix.equinor.com/radix-config#dnsalias
                items:
                  description: DNSAlias defines mapping between an DNS alias and a
                    component and environment.
                  properties:
                    alias:
                      description: Alias name, e.g. my-app, which will prefix full
                        internal alias my-app.radix.equinor.com
                      maxLength: 63
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    component:
                      description: Name of the component that shall receive the incoming
                        requests.
                      maxLength: 63
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    environment:
                      description: Name of the environment for the component.
                      maxLength: 63
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                  required:
                  - alias
                  - component
                  - environment
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - alias
                x-kubernetes-list-type: map
              dnsAppAlias:
                description: |-
                  Configure a component and environment to be linked to the app alias DNS record.
                  More info: https://www.radix.equinor.com/radix-config#dnsappalias
                properties:
                  component:
                    description: Name of the component that shall receive the incoming
                      requests.
                    maxLength: 63
                    minLength: 1
                    pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                    type: string
                  environment:
                    description: Name of the environment for the component.
                    maxLength: 63
                    minLength: 1
                    pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                    type: string
                type: object
              dnsExternalAlias:
                description: |-
                  List of external DNS names and which component and environment incoming requests shall be routed to.
                  More info: https://www.radix.equinor.com/radix-config#dnsexternalalias
                items:
                  description: ExternalAlias defines mapping between an external DNS
                    name and a component and environment.
                  properties:
                    alias:
                      description: DNS name, e.g. myapp.example.com.
                      maxLength: 255
                      minLength: 4
                      pattern: ^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$
                      type: string
                    component:
                      description: Name of the component that shall receive the incoming
                        requests.
                      maxLength: 63
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    environment:
                      description: Name of the environment for the component.
                      maxLength: 63
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    useCertificateAutomation:
                      default: false
                      description: Enable automatic issuing and renewal of TLS certificate
                      type: boolean
                  required:
                  - alias
                  - component
                  - environment
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - alias
                x-kubernetes-list-type: map
              environments:
                description: |-
                  List of environments belonging to the application.
                  More info: https://www.radix.equinor.com/radix-config#environments
                items:
                  description: Environment contains environment specific configuration.
                  properties:
                    build:
                      description: |-
                        Build configuration for the environment.
                        More info: https://www.radix.equinor.com/radix-config#build-2
                      properties:
                        from:
                          description: Name of the Github branch to build from
                          maxLength: 255
                          minLength: 1
                          type: string
                        fromType:
                          description: |-
                            FromType When the pipeline job is triggered by a GitHub event via the Radix GitHub webhook FromType can specify
                            which Git references are applicable for this environment:
                            - branch - only events on branches (for refs/heads)
                            - tag - only events on tags (for refs/tags)
                            - <empty> - events on both branches and tags
                          enum:
                          - branch
                          - tag
                          - ""
                          type: string
                        variables:
                          additionalProperties:
                            type: string
                          description: Defines variables that will be available in
                            sub-pipelines
                          type: object
                        webhookEnabled:
                          default: true
                          description: |-
                            WebhookEnabled indicates whether the webhook should be disabled for the environment.
                            If set to false, the webhook will not be triggered for this environment.
                          type: boolean
                      type: object
                    egress:
                      description: |-
                        Configure egress traffic rules for components and jobs.
                        More info: https://www.radix.equinor.com/radix-config#egress
                      properties:
                        allowRadix:
                          description: Allow or deny outgoing traffic to the public
                            IP of the Radix cluster.
                          type: boolean
                        rules:
                          description: Defines a list of egress rules.
                          items:
                            description: EgressRule defines an egress rule.
                            properties:
                              destinations:
                                description: |-
                                  List of allowed destinations.
                                  Each destination must be a valid IPv4 CIDR.
                                items:
                                  pattern: ^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$
                                  type: string
                                minItems: 1
                                type: array
                              ports:
                                description: List of allowed ports.
                                items:
                                  description: EgressPort defines a port in context
                                    of EgressRule.
                                  properties:
                                    port:
                                      description: Port number.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                    protocol:
                                      description: Protocol.
                                      enum:
                                      - TCP
                                      - UDP
                                      type: string
                                  required:
                                  - port
                                  - protocol
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - destinations
                            - ports
                            type: object
                          maxItems: 1000
                          type: array
                      type: object
                    name:
                      description: Name of the environment.
                      maxLength: 63
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    subPipeline:
                      description: SubPipeline configuration.
                      properties:
                        identity:
                          description: |-
                            Configuration for workload identity (federated credentials).
                            More info: https://www.radix.equinor.com/radix-config#identity
                          properties:
                            azure:
                              description: Azure identity configuration
                              properties:
                                clientId:
                                  description: Defines the Client ID for a user defined
                                    managed identity or application ID for an application
                                    registration.
                                  type: string
                              required:
                              - clientId
                              type: object
                          type: object
                        variables:
                          additionalProperties:
                            type: string
                          description: Defines variables, that will be available in
                            sub-pipelines.
                          type: object
                      type: object
                  required:
                  - name
                  type: object
                minItems: 1
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              jobs:
                description: |-
                  List of job specification for the application.
                  More info: https://www.radix.equinor.com/radix-config#jobs
                items:
                  description: |-
                    RadixJobComponent defines a single job component within a RadixApplication
                    The job component is used by the radix-job-scheduler to create Kubernetes Job objects
                  properties:
                    args:
                      description: |-
                        Arguments to the entrypoint.
                        The container image's CMD is used if this is not provided.
                        Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                        cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                        to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                        produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                        of whether the variable exists or not.
                        More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: atomic
                    backoffLimit:
                      description: |-
                        Specifies the number of retries before marking this job failed.
                        More info: https://www.radix.equinor.com/radix-config#backofflimit
                      format: int32
                      minimum: 0
                      type: integer
                    batchStatusRules:
                      description: BatchStatusRules Rules define how a batch status
                        is set corresponding to batch job statuses
                      items:
                        description: BatchStatusRule Rule how to set a batch status
                          by job statuses
                        properties:
                          batchStatus:
                            description: BatchStatus The status of the batch corresponding
                              to job statuses
                            enum:
                            - Running
                            - Succeeded
                            - Failed
                            - Waiting
                            - Stopping
                            - Stopped
                            - Active
                            - Completed
                            type: string
                          condition:
                            description: Condition of a rule
                            enum:
                            - All
                            - Any
                            type: string
                          jobStatuses:
                            description: JobStatuses Matching job statuses within
                              the rule
                            items:
                              description: RadixBatchJobPhase represents the phase
                                of the job
                              enum:
                              - Waiting
                              - Active
                              - Running
                              - Succeeded
                              - Failed
                              - Stopped
                              type: string
                            type: array
                          operator:
                            description: Operator of a rule
                            enum:
                            - In
                            - NotIn
                            type: string
                        required:
                        - batchStatus
                        - condition
                        - jobStatuses
                        - operator
                        type: object
                      type: array
                    command:
                      description: |-
                        Entrypoint array. Not executed within a shell.
                        The container image's ENTRYPOINT is used if this is not provided.
                        Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                        cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                        to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                        produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                        of whether the variable exists or not.
                        More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: atomic
                    dockerfileName:
                      description: |-
                        Name of the Dockerfile that builds the job.
                        More info: https://www.radix.equinor.com/radix-config#dockerfilename-2
                      type: string
                    enabled:
                      description: Controls if the job shall be deployed.
                      type: boolean
                    environmentConfig:
                      description: |-
                        Configure environment specific settings for the job.
                        More info: https://www.radix.equinor.com/radix-config#environmentconfig-2
                      items:
                        description: |-
                          RadixJobComponentEnvironmentConfig defines environment specific settings
                          for a single job component within a RadixApplication
                        properties:
                          args:
                            description: |-
                              Arguments to the entrypoint.
                              The container image's CMD is used if this is not provided.
                              Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                              cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                              to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                              produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                              of whether the variable exists or not.
                              More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                          backoffLimit:
                            description: |-
                              Environment specific value for the number of retries before marking this job failed.
                              More info: https://www.radix.equinor.com/radix-config#backofflimit-2
                            format: int32
                            minimum: 0
                            type: integer
                          batchStatusRules:
                            description: BatchStatusRules Rules define how a batch
                              status in an environment is set corresponding to batch
                              job statuses
                            items:
                              description: BatchStatusRule Rule how to set a batch
                                status by job statuses
                              properties:
                                batchStatus:
                                  description: BatchStatus The status of the batch
                                    corresponding to job statuses
                                  enum:
                                  - Running
                                  - Succeeded
                                  - Failed
                                  - Waiting
                                  - Stopping
                                  - Stopped
                                  - Active
                                  - Completed
                                  type: string
                                condition:
                                  description: Condition of a rule
                                  enum:
                                  - All
                                  - Any
                                  type: string
                                jobStatuses:
                                  description: JobStatuses Matching job statuses within
                                    the rule
                                  items:
                                    description: RadixBatchJobPhase represents the
                                      phase of the job
                                    enum:
                                    - Waiting
                                    - Active
                                    - Running
                                    - Succeeded
                                    - Failed
                                    - Stopped
                                    type: string
                                  type: array
                                operator:
                                  description: Operator of a rule
                                  enum:
                                  - In
                                  - NotIn
                                  type: string
                              required:
                              - batchStatus
                              - condition
                              - jobStatuses
                              - operator
                              type: object
                            type: array
                          command:
                            description: |-
                              Entrypoint array. Not executed within a shell.
                              The container image's ENTRYPOINT is used if this is not provided.
                              Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                              cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                              to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                              produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                              of whether the variable exists or not.
                              More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                          dockerfileName:
                            description: |-
                              Name of the Dockerfile that builds the component.
                              More info: https://www.radix.equinor.com/radix-config#dockerfilename
                            type: string
                          enabled:
                            description: Controls if the job shall be deployed to
                              this environment.
                            type: boolean
                          environment:
                            description: Name of the environment which the settings
                              applies to.
                            maxLength: 63
                            minLength: 1
                            pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                            type: string
                          failurePolicy:
                            description: |-
                              Specifies the policy of handling failed job replicas. In particular, it allows to
                              specify the set of actions and conditions which need to be
                              satisfied to take the associated action.
                              If empty, the default behaviour applies - the counter of failed job replicas
                              is incremented and it is checked against the backoffLimit.
                            properties:
                              rules:
                                description: |-
                                  A list of failure policy rules. The rules are evaluated in order.
                                  Once a rule matches a job replica failure, the remaining of the rules are ignored.
                                  When no rule matches the failure, the default handling applies - the
                                  counter of failures is incremented and it is checked against
                                  the backoffLimit.
                                items:
                                  description: RadixJobComponentFailurePolicyRule
                                    describes how a job replica failure is handled
                                    when the onExitCodes rules are met.
                                  properties:
                                    action:
                                      description: Specifies the action taken on a
                                        job replica failure when the onExitCodes requirements
                                        are satisfied.
                                      enum:
                                      - FailJob
                                      - Ignore
                                      - Count
                                      type: string
                                    onExitCodes:
                                      description: Represents the requirement on the
                                        job replica exit codes.
                                      properties:
                                        operator:
                                          description: |-
                                            Represents the relationship between the job replica's exit code and the
                                            specified values. Replicas completed with success (exit code 0) are
                                            excluded from the requirement check.
                                          enum:
                                          - In
                                          - NotIn
                                          type: string
                                        values:
                                          description: |-
                                            Specifies the set of values. The job replica's exit code is checked against this set of
                                            values with respect to the operator. The list must not contain duplicates.
                                            Value '0' cannot be used for the In operator.
                                          items:
                                            format: int32
                                            minimum: 0
                                            type: integer
                                          maxItems: 255
                                          minItems: 1
                                          type: array
                                          x-kubernetes-list-type: set
                                      required:
                                      - operator
                                      - values
                                      type: object
                                  required:
                                  - action
                                  - onExitCodes
                                  type: object
                                maxItems: 20
                                type: array
                                x-kubernetes-list-type: atomic
                            required:
                            - rules
                            type: object
                          identity:
                            description: |-
                              Environment specific configuration for workload identity (federated credentials).
                              More info: https://www.radix.equinor.com/radix-config#identity-2
                            properties:
                              azure:
                                description: Azure identity configuration
                                properties:
                                  clientId:
                                    description: Defines the Client ID for a user
                                      defined managed identity or application ID for
                                      an application registration.
                                    type: string
                                required:
                                - clientId
                                type: object
                            type: object
                          image:
                            description: |-
                              Name of an existing container image to use when running the job.
                              More info: https://www.radix.equinor.com/radix-config#image-2
                            type: string
                          imageTagName:
                            description: |-
                              The imageTagName allows for flexible configuration of fixed images,
                              built outside of Radix, to be configured with separate tag for each environment.
                              More info: https://www.radix.equinor.com/radix-config#imagetagname-2
                            type: string
                          monitoring:
                            description: |-
                              Enabled or disables collection of custom Prometheus metrics.
                              More info: https://www.radix.equinor.com/radix-config#monitoring-2
                            type: boolean
                          node:
                            description: |-
                              Deprecated: use Runtime.NodeType instead.
                              Environment specific GPU requirements for the job.
                              More info: https://www.radix.equinor.com/radix-config#node
                            properties:
                              gpu:
                                description: |-
                                  Defines rules for allowed GPU types.
                                  More info: https://www.radix.equinor.com/radix-config#gpu
                                type: string
                              gpuCount:
                                description: Defines minimum number of required GPUs.
                                type: string
                            type: object
                          notifications:
                            description: Notifications about batch or job status changes
                            properties:
                              webhook:
                                description: Webhook is a URL for notification about
                                  internal events or changes. The URL should be of
                                  a Radix component or job-component, with not public
                                  port.
                                maxLength: 253
                                minLength: 1
                                type: string
                            type: object
                          readOnlyFileSystem:
                            description: Controls if the filesystem shall be read-only.
                            type: boolean
                          resources:
                            description: |-
                              Environment specific configuration for CPU and memory resources.
                              More info: https://www.radix.equinor.com/radix-config#resources-3
                            properties:
                              limits:
                                additionalProperties:
                                  type: string
                                description: Limits describes the maximum amount of
                                  compute resources allowed.
                                type: object
                              requests:
                                additionalProperties:
                                  type: string
                                description: |-
                                  Requests describes the minimum amount of compute resources required.
                                  If Requests is omitted for a container, it defaults to Limits if
                                  that is explicitly specified, otherwise to an implementation-defined value.
                                type: object
                            type: object
                          runtime:
                            description: Runtime defines environment specific target
                              runtime requirements for the job
                            properties:
                              architecture:
                                description: CPU architecture target for the component
                                  or job. When Architecture and NodeType are not defined,
                                  the Architecture defaults to amd64.
                                enum:
                                - amd64
                                - arm64
                                - ""
                                type: string
                              nodeType:
                                description: |-
                                  Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                                  More info: https://www.radix.equinor.com/radix-config#nodetype
                                maxLength: 120
                                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                                type: string
                            type: object
                          secretRefs:
                            description: |-
                              Environment specific configuration for external secret stores, like Azure KeyVault.
                              More info: https://www.radix.equinor.com/radix-config#secretrefs
                            properties:
                              azureKeyVaults:
                                description: List of Azure Key Vaults to get secrets
                                  from.
                                items:
                                  description: RadixAzureKeyVault defines an Azure
                                    keyvault.
                                  properties:
                                    items:
                                      description: List of keyvault items (secrets,
                                        keys and certificates).
                                      items:
                                        description: 'RadixAzureKeyVaultItem defines
                                          Azure Key Vault setting: secrets, keys,
                                          certificates'
                                        properties:
                                          alias:
                                            description: Alias overrides the default
                                              file name used when mounting the secret,
                                              key or certificate.
                                            minLength: 1
                                            type: string
                                          encoding:
                                            description: |-
                                              Encoding defines the encoding of a keyvault item when stored in the container.
                                              Setting encoding to base64 and format to pfx will fetch and write the base64 decoded pfx binary.
                                            enum:
                                            - base64
                                            type: string
                                          envVar:
                                            description: Defines the name of the environment
                                              variable that will contain the value
                                              of the secret, key or certificate.
                                            type: string
                                          format:
                                            description: |-
                                              Defines the format of the keyvault item.
                                              pfx is only supported with type secret and PKCS12 or ECC certificate.
                                              Default format for certificates is pem.
                                            enum:
                                            - pem
                                            - pfx
                                            type: string
                                          k8sSecretType:
                                            description: |-
                                              K8sSecretType defines the type of Kubernetes secret the keyvault item will be stored in.
                                              opaque corresponds to "Opaque" and "kubernetes.io/tls" secret types: https://kubernetes.io/docs/concepts/configuration/secret/#secret-types
                                            enum:
                                            - opaque
                                            - tls
                                            type: string
                                          name:
                                            description: Name of a secret, key or
                                              certificate in the keyvault.
                                            maxLength: 127
                                            minLength: 1
                                            type: string
                                          type:
                                            description: Type of item in the keyvault
                                              referenced by the name.
                                            enum:
                                            - secret
                                            - key
                                            - cert
                                            type: string
                                          version:
                                            description: |-
                                              Defines that a specific version of a keyvault item should be loaded.
                                              The latest version is loaded when this field is not set.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      minItems: 1
                                      type: array
                                    name:
                                      description: Name of the Azure keyvault.
                                      maxLength: 24
                                      minLength: 3
                                      type: string
                                    path:
                                      description: Path where secrets from the keyvault
                                        is mounted.
                                      minLength: 1
                                      type: string
                                    useAzureIdentity:
                                      description: UseAzureIdentity defines that credentials
                                        for accessing Azure Key Vault will be acquired
                                        using Azure Workload Identity instead of using
                                        a ClientID and Secret.
                                      type: boolean
                                  required:
                                  - items
                                  - name
                                  type: object
                                type: array
                            type: object
                          src:
                            description: |-
                              Path to the Dockerfile that builds the component.
                              More info: https://www.radix.equinor.com/radix-config#src
                            type: string
                          timeLimitSeconds:
                            description: |-
                              Environment specific value for the maximum number of seconds the job can run.
                              More info: https://www.radix.equinor.com/radix-config#timelimitseconds-2
                            format: int64
                            type: integer
                          variables:
                            additionalProperties:
                              type: string
                            description: |-
                              Environment specific environment variables.
                              More info: https://www.radix.equinor.com/radix-config#variables-2
                            type: object
                          volumeMounts:
                            description: |-
                              Configuration for mounting cloud storage into the job.
                              More info: https://www.radix.equinor.com/radix-config#volumemounts-2
                            items:
                              description: RadixVolumeMount defines an external storage
                                resource.
                              properties:
                                accessMode:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                    More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                  enum:
                                  - ReadOnlyMany
                                  - ReadWriteOnce
                                  - ReadWriteMany
                                  - ""
                                  type: string
                                blobFuse2:
                                  description: BlobFuse2 settings for Azure Storage
                                    FUSE CSI driver with the protocol fuse2
                                  properties:
                                    accessMode:
                                      description: |-
                                        Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                        More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                      enum:
                                      - ReadOnlyMany
                                      - ReadWriteOnce
                                      - ReadWriteMany
                                      - ""
                                      type: string
                                    attributeCache:
                                      description: Configure attribute cache settings.
                                      properties:
                                        timeout:
                                          description: The timeout (in seconds) for
                                            the attribute cache entries. Default 0.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                      type: object
                                    blockCache:
                                      description: Configure block cache settings.
                                        Applicable when cacheMode is Block.
                                      properties:
                                        blockSize:
                                          description: Size (in MB) of a block to
                                            be downloaded as a unit. Default is 4.
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        diskSize:
                                          description: |-
                                            Size (in MB) of total disk capacity that block cache can use.
                                            0 (default) disables disk caching.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        diskTimeout:
                                          description: Timeout (in seconds) for which
                                            persisted data remains in disk cache.
                                            Default 120.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        parallelism:
                                          description: Number of worker thread responsible
                                            for upload/download jobs. Default 8.
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        poolSize:
                                          description: |-
                                            Size (in MB) of total memory preallocated for block-cache.
                                            Minimum value = (prefetchCount + 1) * blockSize
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        prefetchCount:
                                          description: |-
                                            Max number of blocks to prefetch. Default 11.
                                            Value must be 0 (prefetching disabled) or greater than 10.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        prefetchOnOpen:
                                          description: Start prefetching on open or
                                            wait for first read. Default false.
                                          type: boolean
                                      type: object
                                    cacheMode:
                                      description: |-
                                        Defines how files should be cached.

                                        File: Reads and caches the entire file
                                        Block (default): Blocks of fixed size are downloaded and cached
                                        DirectIO: Caching is disabled. All IO is passed directly to the storage account.
                                      enum:
                                      - File
                                      - Block
                                      - DirectIO
                                      type: string
                                    container:
                                      description: Container. Name of the container
                                        in the external storage resource.
                                      type: string
                                    fileCache:
                                      description: Configure file cache settings.
                                        Applicable when cacheMode is File.
                                      properties:
                                        timeout:
                                          description: The timeout (in seconds) for
                                            which file cache is valid. Default 120.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                      type: object
                                    gid:
                                      description: GID defines the group ID (number)
                                        which will be set as owner of the mounted
                                        volume.
                                      type: string
                                    protocol:
                                      description: Holds protocols of BlobFuse2 Azure
                                        Storage FUSE driver. Default is fuse2.
                                      enum:
                                      - fuse2
                                      - ""
                                      type: string
                                    requestsStorage:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        Requested size (opens new window)of allocated mounted volume. Default value is set to "1Mi" (1 megabyte). Current version of the driver does not affect mounted volume size
                                        More info: https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolumeclaim
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resourceGroup:
                                      description: ResourceGroup of a storage account.
                                        Applicable when using a workload identity.
                                      type: string
                                    storageAccount:
                                      description: Name of a storage account. It is
                                        mandatory when using a workload identity.
                                        It is optional when using Access Key, if it
                                        is not defined, it will be configured in a
                                        secret.
                                      type: string
                                    streaming:
                                      description: |-
                                        Deprecated: Configure caching with cacheMode.
                                        Configure streaming settings.
                                        More info: https://github.com/Azure/azure-storage-fuse/blob/main/STREAMING.md
                                      properties:
                                        enabled:
                                          description: |-
                                            Deprecated: Configure caching with cacheMode in blobFuse2 section.
                                            Enable streaming mode. Default true.
                                            For backward compatibility, Radix will use cachMode:File if this field is explicitly set to false.
                                          type: boolean
                                      type: object
                                    subscriptionId:
                                      description: SubscriptionId of a storage account.
                                        Applicable when using a workload identity.
                                      type: string
                                    tenantId:
                                      description: TenantId of a storage account.
                                        Applicable when using a workload identity.
                                      type: string
                                    uid:
                                      description: UID defines the user ID (number)
                                        which will be set as owner of the mounted
                                        volume.
                                      type: string
                                    useAdls:
                                      description: |-
                                        Enables blobfuse to access Azure DataLake storage account. When set to false, blobfuse will access Azure Block Blob storage account, hierarchical file system is not supported.
                                        Default false. This must be turned on when HNS enabled account is mounted.
                                      type: boolean
                                    useAzureIdentity:
                                      description: UseAzureIdentity defines that credentials
                                        for accessing Azure Storage will be acquired
                                        using Azure Workload Identity instead of using
                                        a ClientID and Secret.
                                      type: boolean
                                  required:
                                  - container
                                  type: object
                                container:
                                  description: 'Deprecated: Only required by the deprecated
                                    type: blob.'
                                  type: string
                                emptyDir:
                                  description: EmptyDir settings for EmptyDir volume
                                  properties:
                                    sizeLimit:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: SizeLimit defines the size of the
                                        emptyDir volume
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                  required:
                                  - sizeLimit
                                  type: object
                                gid:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    GID defines the group ID (number) which will be set as owner of the mounted volume.
                                  type: string
                                name:
                                  description: |-
                                    User-defined name of the volume mount.
                                    Must be unique for the component.
                                  maxLength: 40
                                  minLength: 1
                                  type: string
                                path:
                                  description: Path defines in which directory the
                                    external storage is mounted.
                                  minLength: 1
                                  type: string
                                requestsStorage:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                storage:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    Storage defines the name of the container in the external storage resource.
                                  type: string
                                type:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    Type defines the storage type.
                                  enum:
                                  - azure-blob
                                  - ""
                                  type: string
                                uid:
                                  description: |-
                                    Deprecated: use BlobFuse2 instead.
                                    UID defines the user ID (number) which will be set as owner of the mounted volume.
                                  type: string
                              required:
                              - name
                              - path
                              type: object
                            type: array
                        required:
                        - environment
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - environment
                      x-kubernetes-list-type: map
                    failurePolicy:
                      description: |-
                        Specifies the policy of handling failed job replicas. In particular, it allows to
                        specify the set of actions and conditions which need to be
                        satisfied to take the associated action.
                        If empty, the default behaviour applies - the counter of failed job replicas
                        is incremented and it is checked against the backoffLimit.
                      properties:
                        rules:
                          description: |-
                            A list of failure policy rules. The rules are evaluated in order.
                            Once a rule matches a job replica failure, the remaining of the rules are ignored.
                            When no rule matches the failure, the default handling applies - the
                            counter of failures is incremented and it is checked against
                            the backoffLimit.
                          items:
                            description: RadixJobComponentFailurePolicyRule describes
                              how a job replica failure is handled when the onExitCodes
                              rules are met.
                            properties:
                              action:
                                description: Specifies the action taken on a job replica
                                  failure when the onExitCodes requirements are satisfied.
                                enum:
                                - FailJob
                                - Ignore
                                - Count
                                type: string
                              onExitCodes:
                                description: Represents the requirement on the job
                                  replica exit codes.
                                properties:
                                  operator:
                                    description: |-
                                      Represents the relationship between the job replica's exit code and the
                                      specified values. Replicas completed with success (exit code 0) are
                                      excluded from the requirement check.
                                    enum:
                                    - In
                                    - NotIn
                                    type: string
                                  values:
                                    description: |-
                                      Specifies the set of values. The job replica's exit code is checked against this set of
                                      values with respect to the operator. The list must not contain duplicates.
                                      Value '0' cannot be used for the In operator.
                                    items:
                                      format: int32
                                      minimum: 0
                                      type: integer
                                    maxItems: 255
                                    minItems: 1
                                    type: array
                                    x-kubernetes-list-type: set
                                required:
                                - operator
                                - values
                                type: object
                            required:
                            - action
                            - onExitCodes
                            type: object
                          maxItems: 20
                          type: array
                          x-kubernetes-list-type: atomic
                      required:
                      - rules
                      type: object
                    identity:
                      description: |-
                        Configuration for workload identity (federated credentials).
                        More info: https://www.radix.equinor.com/radix-config#identity-2
                      properties:
                        azure:
                          description: Azure identity configuration
                          properties:
                            clientId:
                              description: Defines the Client ID for a user defined
                                managed identity or application ID for an application
                                registration.
                              type: string
                          required:
                          - clientId
                          type: object
                      type: object
                    image:
                      description: |-
                        Name of an existing container image to use when running the job.
                        More info: https://www.radix.equinor.com/radix-config#image-2
                      type: string
                    imageTagName:
                      description: |-
                        The imageTagName allows for flexible configuration of fixed images,
                        built outside of Radix, it can be also configured with separate tag for each environment.
                        More info: https://www.radix.equinor.com/radix-config#imagetagname
                      type: string
                    monitoring:
                      description: |-
                        Enabled or disables collection of custom Prometheus metrics.
                        More info: https://www.radix.equinor.com/radix-config#monitoring
                      type: boolean
                    monitoringConfig:
                      description: |-
                        Configures the monitoring endpoint exposed by the job.
                        This endpoint is used by Prometheus to collect custom metrics.
                        environmentConfig.monitoring must be set to true to enable collection of metrics for an environment.
                        More info: https://www.radix.equinor.com/radix-config#monitoringconfig-2
                      properties:
                        path:
                          description: Defines the path where metrics is served.
                          type: string
                        portName:
                          description: Defines which port in the ports list where
                            metrics is served.
                          maxLength: 15
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    name:
                      description: Name of the environment which the settings applies
                        to.
                      maxLength: 50
                      minLength: 1
                      pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                      type: string
                    node:
                      description: |-
                        Deprecated: use Runtime.NodeType instead.
                        Defines GPU requirements for the job.
                        More info: https://www.radix.equinor.com/radix-config#node
                      properties:
                        gpu:
                          description: |-
                            Defines rules for allowed GPU types.
                            More info: https://www.radix.equinor.com/radix-config#gpu
                          type: string
                        gpuCount:
                          description: Defines minimum number of required GPUs.
                          type: string
                      type: object
                    notifications:
                      description: Notifications about batch or job status changes
                      properties:
                        webhook:
                          description: Webhook is a URL for notification about internal
                            events or changes. The URL should be of a Radix component
                            or job-component, with not public port.
                          maxLength: 253
                          minLength: 1
                          type: string
                      type: object
                    payload:
                      description: |-
                        Defines the path where the job payload is mounted.
                        More info: https://www.radix.equinor.com/radix-config#payload
                      properties:
                        path:
                          description: Path to the folder where payload is mounted
                          minLength: 1
                          type: string
                      required:
                      - path
                      type: object
                    ports:
                      description: List of ports that the job binds to.
                      items:
                        description: ComponentPort defines a named port.
                        properties:
                          name:
                            description: Name of the port.
                            maxLength: 15
                            minLength: 1
                            pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                            type: string
                          port:
                            description: Port number.
                            format: int32
                            maximum: 65535
                            minimum: 1024
                            type: integer
                        required:
                        - name
                        - port
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                      - name
                      x-kubernetes-list-type: map
                    readOnlyFileSystem:
                      description: Controls if the filesystem shall be read-only.
                      type: boolean
                    resources:
                      description: |-
                        Configures CPU and memory resources for the job.
                        More info: https://www.radix.equinor.com/radix-config#resources-common-2
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: Limits describes the maximum amount of compute
                            resources allowed.
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: |-
                            Requests describes the minimum amount of compute resources required.
                            If Requests is omitted for a container, it defaults to Limits if
                            that is explicitly specified, otherwise to an implementation-defined value.
                          type: object
                      type: object
                    runtime:
                      description: Runtime defines target runtime requirements for
                        the job
                      properties:
                        architecture:
                          description: CPU architecture target for the component or
                            job. When Architecture and NodeType are not defined, the
                            Architecture defaults to amd64.
                          enum:
                          - amd64
                          - arm64
                          - ""
                          type: string
                        nodeType:
                          description: |-
                            Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                            More info: https://www.radix.equinor.com/radix-config#nodetype
                          maxLength: 120
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    schedulerPort:
                      description: |-
                        Defines the port number that the job-scheduler API server will listen to.
                        More info: https://www.radix.equinor.com/radix-config#schedulerport
                      format: int32
                      maximum: 65535
                      minimum: 1024
                      type: integer
                    secretRefs:
                      description: |-
                        Configuration for external secret stores, like Azure KeyVault.
                        More info: https://www.radix.equinor.com/radix-config#secretrefs
                      properties:
                        azureKeyVaults:
                          description: List of Azure Key Vaults to get secrets from.
                          items:
                            description: RadixAzureKeyVault defines an Azure keyvault.
                            properties:
                              items:
                                description: List of keyvault items (secrets, keys
                                  and certificates).
                                items:
                                  description: 'RadixAzureKeyVaultItem defines Azure
                                    Key Vault setting: secrets, keys, certificates'
                                  properties:
                                    alias:
                                      description: Alias overrides the default file
                                        name used when mounting the secret, key or
                                        certificate.
                                      minLength: 1
                                      type: string
                                    encoding:
                                      description: |-
                                        Encoding defines the encoding of a keyvault item when stored in the container.
                                        Setting encoding to base64 and format to pfx will fetch and write the base64 decoded pfx binary.
                                      enum:
                                      - base64
                                      type: string
                                    envVar:
                                      description: Defines the name of the environment
                                        variable that will contain the value of the
                                        secret, key or certificate.
                                      type: string
                                    format:
                                      description: |-
                                        Defines the format of the keyvault item.
                                        pfx is only supported with type secret and PKCS12 or ECC certificate.
                                        Default format for certificates is pem.
                                      enum:
                                      - pem
                                      - pfx
                                      type: string
                                    k8sSecretType:
                                      description: |-
                                        K8sSecretType defines the type of Kubernetes secret the keyvault item will be stored in.
                                        opaque corresponds to "Opaque" and "kubernetes.io/tls" secret types: https://kubernetes.io/docs/concepts/configuration/secret/#secret-types
                                      enum:
                                      - opaque
                                      - tls
                                      type: string
                                    name:
                                      description: Name of a secret, key or certificate
                                        in the keyvault.
                                      maxLength: 127
                                      minLength: 1
                                      type: string
                                    type:
                                      description: Type of item in the keyvault referenced
                                        by the name.
                                      enum:
                                      - secret
                                      - key
                                      - cert
                                      type: string
                                    version:
                                      description: |-
                                        Defines that a specific version of a keyvault item should be loaded.
                                        The latest version is loaded when this field is not set.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                minItems: 1
                                type: array
                              name:
                                description: Name of the Azure keyvault.
                                maxLength: 24
                                minLength: 3
                                type: string
                              path:
                                description: Path where secrets from the keyvault
                                  is mounted.
                                minLength: 1
                                type: string
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Key Vault will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - items
                            - name
                            type: object
                          type: array
                      type: object
                    secrets:
                      description: |-
                        List of secret environment variable names.
                        More info: https://www.radix.equinor.com/radix-config#secrets-2
                      items:
                        type: string
                      type: array
                    src:
                      description: |-
                        Path to the Dockerfile that builds the job.
                        More info: https://www.radix.equinor.com/radix-config#src-2
                      type: string
                    timeLimitSeconds:
                      description: |-
                        The maximum number of seconds the job can run.
                        More info: https://www.radix.equinor.com/radix-config#timelimitseconds
                      format: int64
                      type: integer
                    variables:
                      additionalProperties:
                        type: string
                      description: |-
                        List of environment variables and values.
                        More info: https://www.radix.equinor.com/radix-config#variables-common-2
                      type: object
                    volumeMounts:
                      description: |-
                        Configuration for mounting cloud storage into the component.
                        More info: https://www.radix.equinor.com/radix-config#volumemounts
                      items:
                        description: RadixVolumeMount defines an external storage
                          resource.
                        properties:
                          accessMode:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            enum:
                            - ReadOnlyMany
                            - ReadWriteOnce
                            - ReadWriteMany
                            - ""
                            type: string
                          blobFuse2:
                            description: BlobFuse2 settings for Azure Storage FUSE
                              CSI driver with the protocol fuse2
                            properties:
                              accessMode:
                                description: |-
                                  Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                  More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                enum:
                                - ReadOnlyMany
                                - ReadWriteOnce
                                - ReadWriteMany
                                - ""
                                type: string
                              attributeCache:
                                description: Configure attribute cache settings.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for the
                                      attribute cache entries. Default 0.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              blockCache:
                                description: Configure block cache settings. Applicable
                                  when cacheMode is Block.
                                properties:
                                  blockSize:
                                    description: Size (in MB) of a block to be downloaded
                                      as a unit. Default is 4.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  diskSize:
                                    description: |-
                                      Size (in MB) of total disk capacity that block cache can use.
                                      0 (default) disables disk caching.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  diskTimeout:
                                    description: Timeout (in seconds) for which persisted
                                      data remains in disk cache. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  parallelism:
                                    description: Number of worker thread responsible
                                      for upload/download jobs. Default 8.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  poolSize:
                                    description: |-
                                      Size (in MB) of total memory preallocated for block-cache.
                                      Minimum value = (prefetchCount + 1) * blockSize
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  prefetchCount:
                                    description: |-
                                      Max number of blocks to prefetch. Default 11.
                                      Value must be 0 (prefetching disabled) or greater than 10.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  prefetchOnOpen:
                                    description: Start prefetching on open or wait
                                      for first read. Default false.
                                    type: boolean
                                type: object
                              cacheMode:
                                description: |-
                                  Defines how files should be cached.

                                  File: Reads and caches the entire file
                                  Block (default): Blocks of fixed size are downloaded and cached
                                  DirectIO: Caching is disabled. All IO is passed directly to the storage account.
                                enum:
                                - File
                                - Block
                                - DirectIO
                                type: string
                              container:
                                description: Container. Name of the container in the
                                  external storage resource.
                                type: string
                              fileCache:
                                description: Configure file cache settings. Applicable
                                  when cacheMode is File.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for which
                                      file cache is valid. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              gid:
                                description: GID defines the group ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              protocol:
                                description: Holds protocols of BlobFuse2 Azure Storage
                                  FUSE driver. Default is fuse2.
                                enum:
                                - fuse2
                                - ""
                                type: string
                              requestsStorage:
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  Requested size (opens new window)of allocated mounted volume. Default value is set to "1Mi" (1 megabyte). Current version of the driver does not affect mounted volume size
                                  More info: https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolumeclaim
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              resourceGroup:
                                description: ResourceGroup of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              storageAccount:
                                description: Name of a storage account. It is mandatory
                                  when using a workload identity. It is optional when
                                  using Access Key, if it is not defined, it will
                                  be configured in a secret.
                                type: string
                              streaming:
                                description: |-
                                  Deprecated: Configure caching with cacheMode.
                                  Configure streaming settings.
                                  More info: https://github.com/Azure/azure-storage-fuse/blob/main/STREAMING.md
                                properties:
                                  enabled:
                                    description: |-
                                      Deprecated: Configure caching with cacheMode in blobFuse2 section.
                                      Enable streaming mode. Default true.
                                      For backward compatibility, Radix will use cachMode:File if this field is explicitly set to false.
                                    type: boolean
                                type: object
                              subscriptionId:
                                description: SubscriptionId of a storage account.
                                  Applicable when using a workload identity.
                                type: string
                              tenantId:
                                description: TenantId of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              uid:
                                description: UID defines the user ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              useAdls:
                                description: |-
                                  Enables blobfuse to access Azure DataLake storage account. When set to false, blobfuse will access Azure Block Blob storage account, hierarchical file system is not supported.
                                  Default false. This must be turned on when HNS enabled account is mounted.
                                type: boolean
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Storage will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - container
                            type: object
                          container:
                            description: 'Deprecated: Only required by the deprecated
                              type: blob.'
                            type: string
                          emptyDir:
                            description: EmptyDir settings for EmptyDir volume
                            properties:
                              sizeLimit:
                                anyOf:
                                - type: integer
                                - type: string
                                description: SizeLimit defines the size of the emptyDir
                                  volume
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - sizeLimit
                            type: object
                          gid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              GID defines the group ID (number) which will be set as owner of the mounted volume.
                            type: string
                          name:
                            description: |-
                              User-defined name of the volume mount.
                              Must be unique for the component.
                            maxLength: 40
                            minLength: 1
                            type: string
                          path:
                            description: Path defines in which directory the external
                              storage is mounted.
                            minLength: 1
                            type: string
                          requestsStorage:
                            anyOf:
                            - type: integer
                            - type: string
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          storage:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Storage defines the name of the container in the external storage resource.
                            type: string
                          type:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Type defines the storage type.
                            enum:
                            - azure-blob
                            - ""
                            type: string
                          uid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              UID defines the user ID (number) which will be set as owner of the mounted volume.
                            type: string
                        required:
                        - name
                        - path
                        type: object
                      type: array
                  required:
                  - name
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              privateImageHubs:
                additionalProperties:
                  description: |-
                    RadixPrivateImageHubCredential contains credentials to use when pulling images
                    from a protected container registry.
                  properties:
                    email:
                      description: The email address linked to the username.
                      type: string
                    username:
                      description: |-
                        Username with permission to pull images.
                        The password is set in Radix Web Console.
                      minLength: 1
                      type: string
                  required:
                  - username
                  type: object
                description: |-
                  Defines protected container registries used by components or jobs.
                  More info: https://www.radix.equinor.com/radix-config#privateimagehubs
                type: object
            required:
            - environments
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
---
# Source: radix-operator/templates/radixbatch.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: radixbatches.radix.equinor.com
spec:
  group: radix.equinor.com
  names:
    kind: RadixBatch
    listKind: RadixBatchList
    plural: radixbatches
    shortNames:
    - rb
    singular: radixbatch
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.radixDeploymentJobRef.job
      name: Job
      type: string
    - jsonPath: .status.condition.type
      name: Condition
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: RadixBatch enables batch execution of Radix job components.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: RadixBatchSpec is the specification of batch jobs.
            properties:
              batchId:
                description: Defines a user defined ID of the batch.
                type: string
              jobs:
                description: List of batch jobs to run.
                items:
                  description: RadixBatchJob Spec for a batch job
                  properties:
                    backoffLimit:
                      description: Specifies the number of retries before marking
                        this job failed.
                      format: int32
                      minimum: 0
                      type: integer
                    failurePolicy:
                      description: FailurePolicy specifies the policy of handling
                        failed job replicas
                      properties:
                        rules:
                          description: |-
                            A list of failure policy rules. The rules are evaluated in order.
                            Once a rule matches a job replica failure, the remaining of the rules are ignored.
                            When no rule matches the failure, the default handling applies - the
                            counter of failures is incremented and it is checked against
                            the backoffLimit.
                          items:
                            description: RadixJobComponentFailurePolicyRule describes
                              how a job replica failure is handled when the onExitCodes
                              rules are met.
                            properties:
                              action:
                                description: Specifies the action taken on a job replica
                                  failure when the onExitCodes requirements are satisfied.
                                enum:
                                - FailJob
                                - Ignore
                                - Count
                                type: string
                              onExitCodes:
                                description: Represents the requirement on the job
                                  replica exit codes.
                                properties:
                                  operator:
                                    description: |-
                                      Represents the relationship between the job replica's exit code and the
                                      specified values. Replicas completed with success (exit code 0) are
                                      excluded from the requirement check.
                                    enum:
                                    - In
                                    - NotIn
                                    type: string
                                  values:
                                    description: |-
                                      Specifies the set of values. The job replica's exit code is checked against this set of
                                      values with respect to the operator. The list must not contain duplicates.
                                      Value '0' cannot be used for the In operator.
                                    items:
                                      format: int32
                                      minimum: 0
                                      type: integer
                                    maxItems: 255
                                    minItems: 1
                                    type: array
                                    x-kubernetes-list-type: set
                                required:
                                - operator
                                - values
                                type: object
                            required:
                            - action
                            - onExitCodes
                            type: object
                          maxItems: 20
                          type: array
                          x-kubernetes-list-type: atomic
                      required:
                      - rules
                      type: object
                    imageTagName:
                      description: ImageTagName defines the image tag name to use
                        for the job image
                      type: string
                    jobId:
                      description: Defines a user defined ID of the job.
                      type: string
                    name:
                      description: Defines the unique name of the job in a RadixBatch.
                      maxLength: 63
                      type: string
                    node:
                      description: |-
                        Deprecated: use Runtime.NodeType instead.
                        Specifies node attributes, where container should be scheduled.
                        Overrides node configuration defined for job component in RadixDeployment.
                      properties:
                        gpu:
                          description: |-
                            Defines rules for allowed GPU types.
                            More info: https://www.radix.equinor.com/radix-config#gpu
                          type: string
                        gpuCount:
                          description: Defines minimum number of required GPUs.
                          type: string
                      type: object
                    payloadSecretRef:
                      description: Specifies the Secret name and data key containing
                        the payload for the job
                      properties:
                        key:
                          description: The key of the secret to select from.
                          type: string
                        name:
                          description: |-
                            Name of the referent.
                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                          maxLength: 253
                          type: string
                      required:
                      - key
                      - name
                      type: object
                    resources:
                      description: |-
                        Specifies compute resource requirements.
                        Overrides resource configuration defined for job component in RadixDeployment.
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: Limits describes the maximum amount of compute
                            resources allowed.
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: |-
                            Requests describes the minimum amount of compute resources required.
                            If Requests is omitted for a container, it defaults to Limits if
                            that is explicitly specified, otherwise to an implementation-defined value.
                          type: object
                      type: object
                    restart:
                      description: |-
                        Controls if a job should be restarted.
                        If Restart is set to new timestamp, and
                        - the job is stopped - the job is started again.
                        - the job is running - the job is stopped and started again.
                        This timestamp set to the job's status.restart.
                      type: string
                    runtime:
                      description: Runtime defines the target runtime requirements
                        for the batch job
                      properties:
                        architecture:
                          description: CPU architecture target for the component or
                            job. When Architecture and NodeType are not defined, the
                            Architecture defaults to amd64.
                          enum:
                          - amd64
                          - arm64
                          - ""
                          type: string
                        nodeType:
                          description: |-
                            Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                            More info: https://www.radix.equinor.com/radix-config#nodetype
                          maxLength: 120
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    stop:
                      description: |-
                        Controls if a job should be stopped.
                        If Stop is set to true, the underlying Kubernetes Job is deleted.
                        A job that is stopped cannot be started again by setting Stop to false.
                      type: boolean
                    timeLimitSeconds:
                      description: |-
                        Specifies maximum job run time.
                        Overrides timeLimitSeconds defined for job component in RadixDeployment.
                      format: int64
                      minimum: 1
                      type: integer
                  required:
                  - name
                  type: object
                maxItems: 500
                minItems: 1
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              radixDeploymentJobRef:
                description: Reference to the RadixDeployment containing the job component
                  spec.
                properties:
                  job:
                    description: The job name of the RadixDeployment to select.
                    type: string
                  name:
                    description: |-
                      Name of the referent.
                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    maxLength: 253
                    type: string
                required:
                - job
                - name
                type: object
            required:
            - jobs
            - radixDeploymentJobRef
            type: object
          status:
            description: RadixBatchStatus represents the current state of a RadixBatch
            properties:
              condition:
                description: The batch is completed when all jobs are in a completed
                  phase (Succeeded, Failed or Stopped)
                properties:
                  activeTime:
                    description: The time the condition entered Active state.
                    format: date-time
                    type: string
                  completionTime:
                    description: The time the condition entered Completed state.
                    format: date-time
                    type: string
                  message:
                    description: A human-readable message indicating details about
                      the condition.
                    type: string
                  reason:
                    description: The reason for the condition.
                    type: string
                  type:
                    description: Type of RadixBatch condition.
                    enum:
                    - Waiting
                    - Active
                    - Completed
                    type: string
                required:
                - type
                type: object
              jobStatuses:
                description: Status for each job defined in spec.jobs
                items:
                  description: RadixBatchJobStatus contains details for the current
                    status of the job.
                  properties:
                    creationTime:
                      description: The time at which the Kubernetes job was created.
                      format: date-time
                      type: string
                    endTime:
                      description: |-
                        The time at which the batch job ended.
                        The value is set when phase is either Succeeded, Failed or Stopped.
                        - Succeeded: Value from CompletionTime of the Kubernetes job.
                        - Failed: Value from LastTransitionTime of the Failed condition of the Kubernetes job.
                        - Stopped: The timestamp a job with Stop=true was reonciled.
                      format: date-time
                      type: string
                    failed:
                      description: The number of times the container for the job has
                        failed.
                      format: int32
                      type: integer
                    message:
                      description: A human-readable message indicating details about
                        why the job is in this phase
                      type: string
                    name:
                      maxLength: 63
                      type: string
                    phase:
                      description: The Phase is a simple, high-level summary of where
                        the RadixBatchJob is in its lifecycle.
                      enum:
                      - Waiting
                      - Active
                      - Running
                      - Succeeded
                      - Failed
                      - Stopped
                      type: string
                    podStatuses:
                      description: Status for each pod of the job
                      items:
                        description: RadixBatchJobPodStatus contains details for the
                          current status of the job's pods.
                        properties:
                          creationTime:
                            description: The time at which the Kubernetes job's pod
                              was created.
                            format: date-time
                            type: string
                          endTime:
                            description: The time at which the batch job's pod finishedAt.
                            format: date-time
                            type: string
                          exitCode:
                            description: Exit status from the last termination of
                              the container
                            format: int32
                            type: integer
                          image:
                            description: |-
                              The name of container image that the container is running.
                              The container image may not match the image used in the PodSpec,
                              as it may have been resolved by the runtime.
                              More info: https://kubernetes.io/docs/concepts/containers/images.
                            type: string
                          imageID:
                            description: |-
                              The image ID of the container's image. The image ID may not
                              match the image ID of the image used in the PodSpec, as it may have been
                              resolved by the runtime.
                            type: string
                          message:
                            description: A human-readable message indicating details
                              about why the job is in this phase
                            type: string
                          name:
                            maxLength: 63
                            type: string
                          phase:
                            description: The phase of a Pod is a simple, high-level
                              summary of where the Pod is in its lifecycle.
                            enum:
                            - Pending
                            - Running
                            - Succeeded
                            - Failed
                            - Stopped
                            type: string
                          podIndex:
                            description: The index of the pod in the re-starts
                            type: integer
                          reason:
                            description: A brief CamelCase message indicating details
                              about why the job is in this phase
                            type: string
                          restartCount:
                            description: The number of times the container has been
                              restarted.
                            format: int32
                            type: integer
                          startTime:
                            description: The time at which the batch job's pod startedAt
                            format: date-time
                            type: string
                        required:
                        - exitCode
                        - name
                        - phase
                        - podIndex
                        - restartCount
                        type: object
                      type: array
                    reason:
                      description: A brief CamelCase message indicating details about
                        why the job is in this phase
                      type: string
                    restart:
                      description: Timestamp of the job restart, if applied.
                      type: string
                    startTime:
                      description: The time at which the Kubernetes job was started.
                      format: date-time
                      type: string
                  required:
                  - name
                  - phase
                  type: object
                type: array
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: radix-operator/templates/radixdeployment.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: radixdeployments.radix.equinor.com
spec:
  group: radix.equinor.com
  names:
    kind: RadixDeployment
    listKind: RadixDeploymentList
    plural: radixdeployments
    shortNames:
    - rd
    singular: radixdeployment
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.activeFrom
      name: Active From
      type: string
    - jsonPath: .status.activeTo
      name: Active To
      type: string
    - jsonPath: .status.condition
      name: Condition
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - jsonPath: .status.reconciled
      name: Reconciled
      priority: 1
      type: date
    - jsonPath: .metadata.annotations.radix-branch
      name: Branch
      priority: 1
      type: string
    name: v1
    schema:
      openAPIV3Schema:
        description: RadixDeployment describe a deployment
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: RadixDeploymentSpec is the spec for a deployment
            properties:
              appname:
                type: string
              components:
                items:
                  description: RadixDeployComponent defines a single component within
                    a RadixDeployment - maps to single deployment/service/ingress
                    etc
                  properties:
                    alwaysPullImageOnDeploy:
                      type: boolean
                    args:
                      description: GetArgs Arguments to the entrypoint.
                      items:
                        type: string
                      type: array
                    authentication:
                      description: Authentication describes authentication options.
                      properties:
                        clientCertificate:
                          description: |-
                            Configuration for TLS client certificate authentication.
                            More info: https://www.radix.equinor.com/radix-config#clientcertificate
                          properties:
                            passCertificateToUpstream:
                              description: |-
                                Pass client certificate to backend in header ssl-client-cert.
                                This setting has no effect if verification is set to off.
                              type: boolean
                            verification:
                              description: Defines how the client certificate shall
                                be verified.
                              enum:
                              - "on"
                              - "off"
                              - optional
                              - optional_no_ca
                              type: string
                          type: object
                        oauth2:
                          description: |-
                            Configuration for OAuth2 authentication.
                            More info: https://www.radix.equinor.com/radix-config#oauth2
                          properties:
                            clientId:
                              description: Client ID of the application.
                              type: string
                            cookie:
                              description: Session cookie settings.
                              properties:
                                expire:
                                  description: Defines the expire timeframe for the
                                    session cookie.
                                  type: string
                                name:
                                  description: Defines the name of the OAuth session
                                    cookie.
                                  type: string
                                refresh:
                                  description: |-
                                    The interval between cookie refreshes.
                                    The value must be a shorter timeframe than values set in Expire.
                                  type: string
                                sameSite:
                                  description: Defines the samesite cookie attribute
                                  enum:
                                  - strict
                                  - lax
                                  - none
                                  - ""
                                  type: string
                              type: object
                            cookieStore:
                              description: Settings for the cookie that stores session
                                data when SessionStoreType is cookie.
                              properties:
                                minimal:
                                  description: |-
                                    Strips OAuth tokens from cookies if they are not needed.
                                    Cookie.Refresh must be 0, and both SetXAuthRequestHeaders and SetAuthorizationHeader must be false if this setting is true.
                                  type: boolean
                              type: object
                            credentials:
                              default: secret
                              description: Credentials defines credentials type for
                                authenticating. Default is a Secret, which represents
                                a client secret.
                              enum:
                              - secret
                              - azureWorkloadIdentity
                              - ""
                              type: string
                            loginUrl:
                              description: |-
                                Defines the authentication endpoint of the identity provider.
                                Must be set if OIDC.SkipDiscovery is true
                              type: string
                            oidc:
                              description: OIDC settings.
                              properties:
                                insecureSkipVerifyNonce:
                                  description: Skip verifying the OIDC ID Token's
                                    nonce claim
                                  type: boolean
                                issuerUrl:
                                  description: Defines the OIDC issuer URL.
                                  type: string
                                jwksUrl:
                                  description: |-
                                    Defines the OIDC JWKS URL for token verification.
                                    Required if OIDC discovery is disabled.
                                  type: string
                                skipDiscovery:
                                  description: |-
                                    Defines if OIDC endpoint discovery should be bypassed.
                                    LoginURL, RedeemURL, JWKSURL must be configured if discovery is disabled.
                                  type: boolean
                              type: object
                            proxyPrefix:
                              description: Defines the url root path that OAuth Proxy
                                should be nested under.
                              type: string
                            redeemUrl:
                              description: |-
                                Defines the endpoint to redeem the authorization code received from the OAuth code flow.
                                Must be set if OIDC.SkipDiscovery is true
                              type: string
                            redisStore:
                              description: Settings for Redis store when SessionStoreType
                                is redis.
                              properties:
                                connectionUrl:
                                  description: Defines the URL for the Redis server.
                                  type: string
                              required:
                              - connectionUrl
                              type: object
                            scope:
                              description: Requested scopes.
                              type: string
                            sessionStoreType:
                              description: Defines where to store session data.
                              enum:
                              - cookie
                              - redis
                              - ""
                              type: string
                            setAuthorizationHeader:
                              description: Defines if the IDToken received by the
                                OAuth Proxy should be added to the Authorization header.
                              type: boolean
                            setXAuthRequestHeaders:
                              description: |-
                                Defines if claims from the access token is added to the X-Auth-Request-User, X-Auth-Request-Groups,
                                X-Auth-Request-Email and X-Auth-Request-Preferred-Username request headers.
                                The access token is passed in the X-Auth-Request-Access-Token header.
                              type: boolean
                            skipAuthRoutes:
                              description: |-
                                SkipAuthRoutes defines regex pattern of routes that should not be authenticated. Notice the ^ prefix and $ suffix to make sure the whole path is matched
                                example: GET=^/healthz$
                              items:
                                type: string
                              type: array
                          type: object
                      type: object
                    command:
                      description: GetCommand Entrypoint array. Not executed within
                        a shell.
                      items:
                        type: string
                      type: array
                    dnsAppAlias:
                      type: boolean
                    dnsExternalAlias:
                      description: 'Deprecated: For backward compatibility we must
                        still support this field. New code should use ExternalDNS
                        instead.'
                      items:
                        type: string
                      type: array
                    environmentVariables:
                      additionalProperties:
                        type: string
                      description: 'Map of environment variables in the form ''<envvarname>:
                        <value>'''
                      type: object
                    externalDNS:
                      items:
                        description: RadixDeployExternalDNS is the spec for an external
                          DNS alias
                        properties:
                          fqdn:
                            description: Fully qualified domain name (FQDN), e.g.
                              myapp.example.com.
                            maxLength: 255
                            minLength: 4
                            pattern: ^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$
                            type: string
                          useCertificateAutomation:
                            default: false
                            description: Enable automatic issuing and renewal of TLS
                              certificate
                            type: boolean
                        required:
                        - fqdn
                        type: object
                      type: array
                    healthChecks:
                      properties:
                        livenessProbe:
                          description: |-
                            Periodic probe of container liveness.
                            Container will be restarted if the probe fails.
                            More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                          properties:
                            exec:
                              description: Exec specifies the action to take.
                              properties:
                                command:
                                  description: |-
                                    Command is the command line to execute inside the container, the working directory for the
                                    command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                    not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                    a shell, you need to explicitly call out to that shell.
                                    Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            failureThreshold:
                              default: 3
                              description: Minimum consecutive failures for the probe
                                to be considered failed after having succeeded.
                              format: int32
                              minimum: 1
                              type: integer
                            grpc:
                              description: GRPC specifies an action involving a GRPC
                                port.
                              properties:
                                port:
                                  description: Port number of the gRPC service.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                service:
                                  default: ""
                                  description: |-
                                    Service is the name of the service to place in the gRPC HealthCheckRequest
                                    (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                    If this is not specified, the default behavior is defined by gRPC.
                                  type: string
                              required:
                              - port
                              type: object
                            httpGet:
                              description: HTTPGet specifies the http request to perform.
                              properties:
                                host:
                                  description: |-
                                    Host name to connect to, defaults to the pod IP. You probably want to set
                                    "Host" in httpHeaders instead.
                                  type: string
                                httpHeaders:
                                  description: Custom headers to set in the request.
                                    HTTP allows repeated headers.
                                  items:
                                    description: HTTPHeader describes a custom header
                                      to be used in HTTP probes
                                    properties:
                                      name:
                                        description: |-
                                          The header field name.
                                          This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                        type: string
                                      value:
                                        description: The header field value
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  description: Path to access on the HTTP server.
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: |-
                                    Scheme to use for connecting to the host.
                                    Defaults to HTTP.
                                  enum:
                                  - HTTPS
                                  - HTTP
                                  type: string
                              required:
                              - port
                              type: object
                            initialDelaySeconds:
                              description: |-
                                Number of seconds after the container has started before liveness probes are initiated.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              type: integer
                            periodSeconds:
                              default: 10
                              description: How often (in seconds) to perform the probe.
                              format: int32
                              minimum: 1
                              type: integer
                            successThreshold:
                              default: 1
                              description: |-
                                Minimum consecutive successes for the probe to be considered successful after having failed.
                                Must be 1 for liveness and startup.
                              format: int32
                              minimum: 1
                              type: integer
                            tcpSocket:
                              description: TCPSocket specifies an action involving
                                a TCP port.
                              properties:
                                host:
                                  description: 'Optional: Host name to connect to,
                                    defaults to the pod IP.'
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - port
                              type: object
                            timeoutSeconds:
                              default: 1
                              description: |-
                                Number of seconds after which the probe times out.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                        readinessProbe:
                          description: |-
                            Periodic probe of container service readiness.
                            Container will be removed from service endpoints if the probe fails.
                            More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                            Defaults to TCP Probe against the first listed port
                          properties:
                            exec:
                              description: Exec specifies the action to take.
                              properties:
                                command:
                                  description: |-
                                    Command is the command line to execute inside the container, the working directory for the
                                    command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                    not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                    a shell, you need to explicitly call out to that shell.
                                    Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            failureThreshold:
                              default: 3
                              description: Minimum consecutive failures for the probe
                                to be considered failed after having succeeded.
                              format: int32
                              minimum: 1
                              type: integer
                            grpc:
                              description: GRPC specifies an action involving a GRPC
                                port.
                              properties:
                                port:
                                  description: Port number of the gRPC service.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                service:
                                  default: ""
                                  description: |-
                                    Service is the name of the service to place in the gRPC HealthCheckRequest
                                    (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                    If this is not specified, the default behavior is defined by gRPC.
                                  type: string
                              required:
                              - port
                              type: object
                            httpGet:
                              description: HTTPGet specifies the http request to perform.
                              properties:
                                host:
                                  description: |-
                                    Host name to connect to, defaults to the pod IP. You probably want to set
                                    "Host" in httpHeaders instead.
                                  type: string
                                httpHeaders:
                                  description: Custom headers to set in the request.
                                    HTTP allows repeated headers.
                                  items:
                                    description: HTTPHeader describes a custom header
                                      to be used in HTTP probes
                                    properties:
                                      name:
                                        description: |-
                                          The header field name.
                                          This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                        type: string
                                      value:
                                        description: The header field value
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  description: Path to access on the HTTP server.
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: |-
                                    Scheme to use for connecting to the host.
                                    Defaults to HTTP.
                                  enum:
                                  - HTTPS
                                  - HTTP
                                  type: string
                              required:
                              - port
                              type: object
                            initialDelaySeconds:
                              description: |-
                                Number of seconds after the container has started before liveness probes are initiated.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              type: integer
                            periodSeconds:
                              default: 10
                              description: How often (in seconds) to perform the probe.
                              format: int32
                              minimum: 1
                              type: integer
                            successThreshold:
                              default: 1
                              description: |-
                                Minimum consecutive successes for the probe to be considered successful after having failed.
                                Must be 1 for liveness and startup.
                              format: int32
                              minimum: 1
                              type: integer
                            tcpSocket:
                              description: TCPSocket specifies an action involving
                                a TCP port.
                              properties:
                                host:
                                  description: 'Optional: Host name to connect to,
                                    defaults to the pod IP.'
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - port
                              type: object
                            timeoutSeconds:
                              default: 1
                              description: |-
                                Number of seconds after which the probe times out.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                        startupProbe:
                          description: |-
                            StartupProbe indicates that the Pod has successfully initialized.
                            If specified, no other probes are executed until this completes successfully.
                            If this probe fails, the Pod will be restarted, just as if the livenessProbe failed.
                            This can be used to provide different probe parameters at the beginning of a Pod's lifecycle,
                            when it might take a long time to load data or warm a cache, than during steady-state operation.
                            More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                          properties:
                            exec:
                              description: Exec specifies the action to take.
                              properties:
                                command:
                                  description: |-
                                    Command is the command line to execute inside the container, the working directory for the
                                    command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                    not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                    a shell, you need to explicitly call out to that shell.
                                    Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            failureThreshold:
                              default: 3
                              description: Minimum consecutive failures for the probe
                                to be considered failed after having succeeded.
                              format: int32
                              minimum: 1
                              type: integer
                            grpc:
                              description: GRPC specifies an action involving a GRPC
                                port.
                              properties:
                                port:
                                  description: Port number of the gRPC service.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                service:
                                  default: ""
                                  description: |-
                                    Service is the name of the service to place in the gRPC HealthCheckRequest
                                    (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                    If this is not specified, the default behavior is defined by gRPC.
                                  type: string
                              required:
                              - port
                              type: object
                            httpGet:
                              description: HTTPGet specifies the http request to perform.
                              properties:
                                host:
                                  description: |-
                                    Host name to connect to, defaults to the pod IP. You probably want to set
                                    "Host" in httpHeaders instead.
                                  type: string
                                httpHeaders:
                                  description: Custom headers to set in the request.
                                    HTTP allows repeated headers.
                                  items:
                                    description: HTTPHeader describes a custom header
                                      to be used in HTTP probes
                                    properties:
                                      name:
                                        description: |-
                                          The header field name.
                                          This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                        type: string
                                      value:
                                        description: The header field value
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  description: Path to access on the HTTP server.
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                                scheme:
                                  description: |-
                                    Scheme to use for connecting to the host.
                                    Defaults to HTTP.
                                  enum:
                                  - HTTPS
                                  - HTTP
                                  type: string
                              required:
                              - port
                              type: object
                            initialDelaySeconds:
                              description: |-
                                Number of seconds after the container has started before liveness probes are initiated.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              type: integer
                            periodSeconds:
                              default: 10
                              description: How often (in seconds) to perform the probe.
                              format: int32
                              minimum: 1
                              type: integer
                            successThreshold:
                              default: 1
                              description: |-
                                Minimum consecutive successes for the probe to be considered successful after having failed.
                                Must be 1 for liveness and startup.
                              format: int32
                              minimum: 1
                              type: integer
                            tcpSocket:
                              description: TCPSocket specifies an action involving
                                a TCP port.
                              properties:
                                host:
                                  description: 'Optional: Host name to connect to,
                                    defaults to the pod IP.'
                                  type: string
                                port:
                                  description: port number to access on the container.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - port
                              type: object
                            timeoutSeconds:
                              default: 1
                              description: |-
                                Number of seconds after which the probe times out.
                                More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                      type: object
                    horizontalScaling:
                      description: RadixHorizontalScaling defines configuration for
                        horizontal pod autoscaler.
                      properties:
                        cooldownPeriod:
                          description: CooldownPeriod to wait after the last trigger
                            reported active before scaling the resource back to 0.
                            Defaults to 5min
                          format: int32
                          minimum: 15
                          type: integer
                        maxReplicas:
                          description: Defines the maximum number of replicas.
                          format: int32
                          minimum: 1
                          type: integer
                        minReplicas:
                          default: 1
                          description: Defines the minimum number of replicas.
                          format: int32
                          minimum: 0
                          type: integer
                        pollingInterval:
                          description: PollingInterval configures how often to check
                            each trigger on. Defaults to 30sec
                          format: int32
                          minimum: 15
                          type: integer
                        resources:
                          description: |-
                            Deprecated: Use CPU and/or Memory triggers instead
                            Defines the resource usage parameters for the horizontal pod autoscaler.
                          properties:
                            cpu:
                              description: Defines the CPU usage parameters for the
                                horizontal pod autoscaler.
                              properties:
                                averageUtilization:
                                  description: Defines the resource usage which triggers
                                    scaling for the horizontal pod autoscaler.
                                  format: int32
                                  minimum: 1
                                  type: integer
                              required:
                              - averageUtilization
                              type: object
                            memory:
                              description: Defines the memory usage parameters for
                                the horizontal pod autoscaler.
                              properties:
                                averageUtilization:
                                  description: Defines the resource usage which triggers
                                    scaling for the horizontal pod autoscaler.
                                  format: int32
                                  minimum: 1
                                  type: integer
                              required:
                              - averageUtilization
                              type: object
                          type: object
                        triggers:
                          description: Defines a list of triggers the component replicas
                            will scale on. Defaults to 80% CPU.
                          items:
                            description: RadixHorizontalScalingTrigger defines configuration
                              for a specific trigger.
                            maxProperties: 2
                            minProperties: 2
                            properties:
                              azureServiceBus:
                                description: AzureServiceBus defines a trigger that
                                  scales based on number of messages in queue
                                properties:
                                  activationMessageCount:
                                    description: 'ActivationMessageCount = Target
                                      value for activating the scaler. (Default: 0,
                                      Optional)'
                                    minimum: 0
                                    type: integer
                                  authentication:
                                    description: Azure Service Bus requires Workload
                                      Identity configured with a ClientID
                                    properties:
                                      identity:
                                        description: RadixHorizontalScalingRequiredIdentity
                                          configuration for federation with required
                                          azure identity providers.
                                        properties:
                                          azure:
                                            description: Azure identity configuration
                                            properties:
                                              clientId:
                                                description: Defines the Client ID
                                                  for a user defined managed identity
                                                  or application ID for an application
                                                  registration.
                                                type: string
                                            required:
                                            - clientId
                                            type: object
                                        required:
                                        - azure
                                        type: object
                                    required:
                                    - identity
                                    type: object
                                  messageCount:
                                    description: |-
                                      MessageCount  - Amount of active messages in your Azure Service Bus queue or topic to scale on. Defaults to 5 messages
                                      DesiredReplicas Number of replicas to which the resource has to be scaled between the start and end of the cron schedule.
                                    minimum: 1
                                    type: integer
                                  namespace:
                                    description: Namespace - Name of the Azure Service
                                      Bus namespace that contains your queue or topic.
                                      Required when using workload identity
                                    maxLength: 50
                                    minLength: 6
                                    pattern: ^(([a-z][-a-z0-9]*)?[a-z0-9])?$
                                    type: string
                                  queueName:
                                    description: QueueName selects the target queue.
                                      QueueName wil take precedence over TopicName.
                                    maxLength: 260
                                    minLength: 1
                                    pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                    type: string
                                  subscriptionName:
                                    description: SubscriptionName is required when
                                      TopicName is set.
                                    maxLength: 50
                                    minLength: 1
                                    pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                    type: string
                                  topicName:
                                    description: TopicName selectes the target topic,
                                      requires SubscriptionName to be set.
                                    maxLength: 260
                                    minLength: 1
                                    pattern: ^(([a-z0-9][-_a-z0-9./]*)?[a-z0-9])?$
                                    type: string
                                required:
                                - authentication
                                - namespace
                                type: object
                              cpu:
                                description: Cpu defines a trigger based on CPU usage
                                properties:
                                  value:
                                    description: Value - the target value is the average
                                      of the resource metric across all relevant pods,
                                      represented as a percentage of the requested
                                      value of the resource for the pods.
                                    minimum: 15
                                    type: integer
                                required:
                                - value
                                type: object
                              cron:
                                description: Cron defines a trigger that scales based
                                  on start and end times
                                properties:
                                  desiredReplicas:
                                    description: DesiredReplicas Number of replicas
                                      to which the resource has to be scaled between
                                      the start and end of the cron schedule.
                                    minimum: 1
                                    type: integer
                                  end:
                                    description: End is a Cron expression indicating
                                      the End of the cron schedule.
                                    pattern: ^((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*)
                                      ?){5})$
                                    type: string
                                  start:
                                    description: Start is a Cron expression indicating
                                      the start of the cron schedule.
                                    pattern: ^((((\d+,)+\d+|(\d+(\/|-)\d+)|\d+|\*)
                                      ?){5})$
                                    type: string
                                  timezone:
                                    description: Timezone One of the acceptable values
                                      from the IANA Time Zone Database. The list of
                                      timezones can be found at https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
                                    type: string
                                required:
                                - desiredReplicas
                                - end
                                - start
                                - timezone
                                type: object
                              memory:
                                description: Memory defines a trigger based on memory
                                  usage
                                properties:
                                  value:
                                    description: Value - the target value is the average
                                      of the resource metric across all relevant pods,
                                      represented as a percentage of the requested
                                      value of the resource for the pods.
                                    minimum: 15
                                    type: integer
                                required:
                                - value
                                type: object
                              name:
                                description: Name of trigger, must be unique
                                maxLength: 50
                                minLength: 1
                                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                                type: string
                            required:
                            - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                      required:
                      - maxReplicas
                      type: object
                    identity:
                      description: Identity configuration for federation with external
                        identity providers.
                      properties:
                        azure:
                          description: Azure identity configuration
                          properties:
                            clientId:
                              description: Defines the Client ID for a user defined
                                managed identity or application ID for an application
                                registration.
                              type: string
                          required:
                          - clientId
                          type: object
                      type: object
                    image:
                      type: string
                    ingressConfiguration:
                      items:
                        type: string
                      type: array
                    monitoring:
                      type: boolean
                    monitoringConfig:
                      description: MonitoringConfig Monitoring configuration
                      properties:
                        path:
                          description: Defines the path where metrics is served.
                          type: string
                        portName:
                          description: Defines which port in the ports list where
                            metrics is served.
                          maxLength: 15
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    name:
                      type: string
                    network:
                      description: |-
                        Network defines settings for network traffic.
                        Currently, only public ingress traffic is supported
                      properties:
                        ingress:
                          description: Ingress defines settings for ingress traffic.
                          properties:
                            public:
                              description: Public defines settings for public traffic.
                              properties:
                                allow:
                                  description: |-
                                    Allow defines a list of public IP addresses or CIDRs which are allowed to access the component.
                                    All IP addresses are allowed if this field is empty or not set.
                                  items:
                                    description: IP address or CIDR.
                                    pattern: ^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$
                                    type: string
                                  type: array
                                proxyBodySize:
                                  description: |-
                                    Sets the maximum allowed size of the client request body.
                                    Sizes can be specified in bytes, kilobytes (suffixes k and K), megabytes (suffixes m and M), or gigabytes (suffixes g and G) for example, "1024", "64k", "32m", "2g"
                                    If the size in a request exceeds the configured value, the 413 (Request Entity Too Large) error is returned to the client.
                                    Setting size to 0 disables checking of client request body size.
                                  pattern: ^(?:0|[1-9][0-9]*[kKmMgG]?)$
                                  type: string
                                proxyBufferSize:
                                  description: |-
                                    Sets the size of the buffer used for reading the first part of the response received from the proxied server.
                                    The size must be large enough to hold the response headers.
                                    Sizes can be specified in bytes, kilobytes (suffixes k and K), megabytes (suffixes m and M), or gigabytes (suffixes g and G) for example, "1024", "64k", "32m", "2g"
                                    If the response headers exceed the buffer size, the 502 (Bad Gateway) error is returned to the client.
                                  pattern: ^(?:0|[1-9][0-9]*[kKmMgG]?)$
                                  type: string
                                proxyReadTimeout:
                                  description: |-
                                    Defines a timeout, in seconds, for reading a response from the proxied server.
                                    The timeout is set only between two successive read operations, not for the transmission of the whole response.
                                    If the proxied server does not transmit anything within this time, the connection is closed.
                                  minimum: 0
                                  type: integer
                                proxySendTimeout:
                                  description: |-
                                    Defines a timeout, in seconds, for transmitting a request to the proxied server.
                                    The timeout is set only between two successive write operations, not for the transmission of the whole request.
                                    If the proxied server does not receive anything within this time, the connection is closed.
                                  minimum: 0
                                  type: integer
                              type: object
                          type: object
                      type: object
                    node:
                      description: |-
                        Deprecated: use Runtime.NodeType instead.
                        Defines GPU requirements for the component.
                        More info: https://www.radix.equinor.com/radix-config#node
                      properties:
                        gpu:
                          description: |-
                            Defines rules for allowed GPU types.
                            More info: https://www.radix.equinor.com/radix-config#gpu
                          type: string
                        gpuCount:
                          description: Defines minimum number of required GPUs.
                          type: string
                      type: object
                    ports:
                      items:
                        description: ComponentPort defines a named port.
                        properties:
                          name:
                            description: Name of the port.
                            maxLength: 15
                            minLength: 1
                            pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                            type: string
                          port:
                            description: Port number.
                            format: int32
                            maximum: 65535
                            minimum: 1024
                            type: integer
                        required:
                        - name
                        - port
                        type: object
                      type: array
                    public:
                      description: 'Deprecated: For backwards compatibility Public
                        is still supported, new code should use PublicPort instead'
                      type: boolean
                    publicPort:
                      type: string
                    readOnlyFileSystem:
                      type: boolean
                    replicas:
                      type: integer
                    replicasOverride:
                      type: integer
                    resources:
                      description: |-
                        ResourceRequirements describes the compute resource requirements.
                        More info: https://www.radix.equinor.com/radix-config#resources-common
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: Limits describes the maximum amount of compute
                            resources allowed.
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: |-
                            Requests describes the minimum amount of compute resources required.
                            If Requests is omitted for a container, it defaults to Limits if
                            that is explicitly specified, otherwise to an implementation-defined value.
                          type: object
                      type: object
                    runtime:
                      description: Runtime defines the component or job's target runtime
                        requirements
                      properties:
                        architecture:
                          description: CPU architecture target for the component or
                            job. When Architecture and NodeType are not defined, the
                            Architecture defaults to amd64.
                          enum:
                          - amd64
                          - arm64
                          - ""
                          type: string
                        nodeType:
                          description: |-
                            Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                            More info: https://www.radix.equinor.com/radix-config#nodetype
                          maxLength: 120
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    secretRefs:
                      description: RadixSecretRefs defines secret vault
                      properties:
                        azureKeyVaults:
                          description: List of Azure Key Vaults to get secrets from.
                          items:
                            description: RadixAzureKeyVault defines an Azure keyvault.
                            properties:
                              items:
                                description: List of keyvault items (secrets, keys
                                  and certificates).
                                items:
                                  description: 'RadixAzureKeyVaultItem defines Azure
                                    Key Vault setting: secrets, keys, certificates'
                                  properties:
                                    alias:
                                      description: Alias overrides the default file
                                        name used when mounting the secret, key or
                                        certificate.
                                      minLength: 1
                                      type: string
                                    encoding:
                                      description: |-
                                        Encoding defines the encoding of a keyvault item when stored in the container.
                                        Setting encoding to base64 and format to pfx will fetch and write the base64 decoded pfx binary.
                                      enum:
                                      - base64
                                      type: string
                                    envVar:
                                      description: Defines the name of the environment
                                        variable that will contain the value of the
                                        secret, key or certificate.
                                      type: string
                                    format:
                                      description: |-
                                        Defines the format of the keyvault item.
                                        pfx is only supported with type secret and PKCS12 or ECC certificate.
                                        Default format for certificates is pem.
                                      enum:
                                      - pem
                                      - pfx
                                      type: string
                                    k8sSecretType:
                                      description: |-
                                        K8sSecretType defines the type of Kubernetes secret the keyvault item will be stored in.
                                        opaque corresponds to "Opaque" and "kubernetes.io/tls" secret types: https://kubernetes.io/docs/concepts/configuration/secret/#secret-types
                                      enum:
                                      - opaque
                                      - tls
                                      type: string
                                    name:
                                      description: Name of a secret, key or certificate
                                        in the keyvault.
                                      maxLength: 127
                                      minLength: 1
                                      type: string
                                    type:
                                      description: Type of item in the keyvault referenced
                                        by the name.
                                      enum:
                                      - secret
                                      - key
                                      - cert
                                      type: string
                                    version:
                                      description: |-
                                        Defines that a specific version of a keyvault item should be loaded.
                                        The latest version is loaded when this field is not set.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                minItems: 1
                                type: array
                              name:
                                description: Name of the Azure keyvault.
                                maxLength: 24
                                minLength: 3
                                type: string
                              path:
                                description: Path where secrets from the keyvault
                                  is mounted.
                                minLength: 1
                                type: string
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Key Vault will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - items
                            - name
                            type: object
                          type: array
                      type: object
                    secrets:
                      items:
                        type: string
                      type: array
                    volumeMounts:
                      items:
                        description: RadixVolumeMount defines an external storage
                          resource.
                        properties:
                          accessMode:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            enum:
                            - ReadOnlyMany
                            - ReadWriteOnce
                            - ReadWriteMany
                            - ""
                            type: string
                          blobFuse2:
                            description: BlobFuse2 settings for Azure Storage FUSE
                              CSI driver with the protocol fuse2
                            properties:
                              accessMode:
                                description: |-
                                  Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                  More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                enum:
                                - ReadOnlyMany
                                - ReadWriteOnce
                                - ReadWriteMany
                                - ""
                                type: string
                              attributeCache:
                                description: Configure attribute cache settings.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for the
                                      attribute cache entries. Default 0.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              blockCache:
                                description: Configure block cache settings. Applicable
                                  when cacheMode is Block.
                                properties:
                                  blockSize:
                                    description: Size (in MB) of a block to be downloaded
                                      as a unit. Default is 4.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  diskSize:
                                    description: |-
                                      Size (in MB) of total disk capacity that block cache can use.
                                      0 (default) disables disk caching.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  diskTimeout:
                                    description: Timeout (in seconds) for which persisted
                                      data remains in disk cache. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  parallelism:
                                    description: Number of worker thread responsible
                                      for upload/download jobs. Default 8.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  poolSize:
                                    description: |-
                                      Size (in MB) of total memory preallocated for block-cache.
                                      Minimum value = (prefetchCount + 1) * blockSize
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  prefetchCount:
                                    description: |-
                                      Max number of blocks to prefetch. Default 11.
                                      Value must be 0 (prefetching disabled) or greater than 10.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  prefetchOnOpen:
                                    description: Start prefetching on open or wait
                                      for first read. Default false.
                                    type: boolean
                                type: object
                              cacheMode:
                                description: |-
                                  Defines how files should be cached.

                                  File: Reads and caches the entire file
                                  Block (default): Blocks of fixed size are downloaded and cached
                                  DirectIO: Caching is disabled. All IO is passed directly to the storage account.
                                enum:
                                - File
                                - Block
                                - DirectIO
                                type: string
                              container:
                                description: Container. Name of the container in the
                                  external storage resource.
                                type: string
                              fileCache:
                                description: Configure file cache settings. Applicable
                                  when cacheMode is File.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for which
                                      file cache is valid. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              gid:
                                description: GID defines the group ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              protocol:
                                description: Holds protocols of BlobFuse2 Azure Storage
                                  FUSE driver. Default is fuse2.
                                enum:
                                - fuse2
                                - ""
                                type: string
                              requestsStorage:
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  Requested size (opens new window)of allocated mounted volume. Default value is set to "1Mi" (1 megabyte). Current version of the driver does not affect mounted volume size
                                  More info: https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolumeclaim
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              resourceGroup:
                                description: ResourceGroup of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              storageAccount:
                                description: Name of a storage account. It is mandatory
                                  when using a workload identity. It is optional when
                                  using Access Key, if it is not defined, it will
                                  be configured in a secret.
                                type: string
                              streaming:
                                description: |-
                                  Deprecated: Configure caching with cacheMode.
                                  Configure streaming settings.
                                  More info: https://github.com/Azure/azure-storage-fuse/blob/main/STREAMING.md
                                properties:
                                  enabled:
                                    description: |-
                                      Deprecated: Configure caching with cacheMode in blobFuse2 section.
                                      Enable streaming mode. Default true.
                                      For backward compatibility, Radix will use cachMode:File if this field is explicitly set to false.
                                    type: boolean
                                type: object
                              subscriptionId:
                                description: SubscriptionId of a storage account.
                                  Applicable when using a workload identity.
                                type: string
                              tenantId:
                                description: TenantId of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              uid:
                                description: UID defines the user ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              useAdls:
                                description: |-
                                  Enables blobfuse to access Azure DataLake storage account. When set to false, blobfuse will access Azure Block Blob storage account, hierarchical file system is not supported.
                                  Default false. This must be turned on when HNS enabled account is mounted.
                                type: boolean
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Storage will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - container
                            type: object
                          container:
                            description: 'Deprecated: Only required by the deprecated
                              type: blob.'
                            type: string
                          emptyDir:
                            description: EmptyDir settings for EmptyDir volume
                            properties:
                              sizeLimit:
                                anyOf:
                                - type: integer
                                - type: string
                                description: SizeLimit defines the size of the emptyDir
                                  volume
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - sizeLimit
                            type: object
                          gid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              GID defines the group ID (number) which will be set as owner of the mounted volume.
                            type: string
                          name:
                            description: |-
                              User-defined name of the volume mount.
                              Must be unique for the component.
                            maxLength: 40
                            minLength: 1
                            type: string
                          path:
                            description: Path defines in which directory the external
                              storage is mounted.
                            minLength: 1
                            type: string
                          requestsStorage:
                            anyOf:
                            - type: integer
                            - type: string
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          storage:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Storage defines the name of the container in the external storage resource.
                            type: string
                          type:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Type defines the storage type.
                            enum:
                            - azure-blob
                            - ""
                            type: string
                          uid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              UID defines the user ID (number) which will be set as owner of the mounted volume.
                            type: string
                        required:
                        - name
                        - path
                        type: object
                      type: array
                  required:
                  - alwaysPullImageOnDeploy
                  - image
                  - monitoring
                  - name
                  - public
                  type: object
                type: array
              environment:
                type: string
              imagePullSecrets:
                items:
                  description: |-
                    LocalObjectReference contains enough information to let you locate the
                    referenced object inside the same namespace.
                  properties:
                    name:
                      default: ""
                      description: |-
                        Name of the referent.
                        This field is effectively required, but due to backwards compatibility is
                        allowed to be empty. Instances of this type with an empty value here are
                        almost certainly wrong.
                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                      type: string
                  type: object
                  x-kubernetes-map-type: atomic
                type: array
              jobs:
                items:
                  description: |-
                    RadixDeployJobComponent defines a single job component within a RadixDeployment
                    The job component is used by the radix-job-scheduler to create Kubernetes Job objects
                  properties:
                    alwaysPullImageOnDeploy:
                      type: boolean
                    args:
                      description: GetArgs Arguments to the entrypoint.
                      items:
                        type: string
                      type: array
                    backoffLimit:
                      format: int32
                      type: integer
                    batchStatusRules:
                      description: BatchStatusRules Rules define how a batch status
                        is set corresponding to batch job statuses
                      items:
                        description: BatchStatusRule Rule how to set a batch status
                          by job statuses
                        properties:
                          batchStatus:
                            description: BatchStatus The status of the batch corresponding
                              to job statuses
                            enum:
                            - Running
                            - Succeeded
                            - Failed
                            - Waiting
                            - Stopping
                            - Stopped
                            - Active
                            - Completed
                            type: string
                          condition:
                            description: Condition of a rule
                            enum:
                            - All
                            - Any
                            type: string
                          jobStatuses:
                            description: JobStatuses Matching job statuses within
                              the rule
                            items:
                              description: RadixBatchJobPhase represents the phase
                                of the job
                              enum:
                              - Waiting
                              - Active
                              - Running
                              - Succeeded
                              - Failed
                              - Stopped
                              type: string
                            type: array
                          operator:
                            description: Operator of a rule
                            enum:
                            - In
                            - NotIn
                            type: string
                        required:
                        - batchStatus
                        - condition
                        - jobStatuses
                        - operator
                        type: object
                      type: array
                    command:
                      description: GetCommand Entrypoint array. Not executed within
                        a shell.
                      items:
                        type: string
                      type: array
                    environment:
                      type: string
                    environmentVariables:
                      additionalProperties:
                        type: string
                      description: 'Map of environment variables in the form ''<envvarname>:
                        <value>'''
                      type: object
                    failurePolicy:
                      description: FailurePolicy specifies the policy of handling
                        failed job replicas
                      properties:
                        rules:
                          description: |-
                            A list of failure policy rules. The rules are evaluated in order.
                            Once a rule matches a job replica failure, the remaining of the rules are ignored.
                            When no rule matches the failure, the default handling applies - the
                            counter of failures is incremented and it is checked against
                            the backoffLimit.
                          items:
                            description: RadixJobComponentFailurePolicyRule describes
                              how a job replica failure is handled when the onExitCodes
                              rules are met.
                            properties:
                              action:
                                description: Specifies the action taken on a job replica
                                  failure when the onExitCodes requirements are satisfied.
                                enum:
                                - FailJob
                                - Ignore
                                - Count
                                type: string
                              onExitCodes:
                                description: Represents the requirement on the job
                                  replica exit codes.
                                properties:
                                  operator:
                                    description: |-
                                      Represents the relationship between the job replica's exit code and the
                                      specified values. Replicas completed with success (exit code 0) are
                                      excluded from the requirement check.
                                    enum:
                                    - In
                                    - NotIn
                                    type: string
                                  values:
                                    description: |-
                                      Specifies the set of values. The job replica's exit code is checked against this set of
                                      values with respect to the operator. The list must not contain duplicates.
                                      Value '0' cannot be used for the In operator.
                                    items:
                                      format: int32
                                      minimum: 0
                                      type: integer
                                    maxItems: 255
                                    minItems: 1
                                    type: array
                                    x-kubernetes-list-type: set
                                required:
                                - operator
                                - values
                                type: object
                            required:
                            - action
                            - onExitCodes
                            type: object
                          maxItems: 20
                          type: array
                          x-kubernetes-list-type: atomic
                      required:
                      - rules
                      type: object
                    identity:
                      description: Identity configuration for federation with external
                        identity providers.
                      properties:
                        azure:
                          description: Azure identity configuration
                          properties:
                            clientId:
                              description: Defines the Client ID for a user defined
                                managed identity or application ID for an application
                                registration.
                              type: string
                          required:
                          - clientId
                          type: object
                      type: object
                    image:
                      type: string
                    monitoring:
                      type: boolean
                    monitoringConfig:
                      description: MonitoringConfig Monitoring configuration
                      properties:
                        path:
                          description: Defines the path where metrics is served.
                          type: string
                        portName:
                          description: Defines which port in the ports list where
                            metrics is served.
                          maxLength: 15
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    name:
                      type: string
                    node:
                      description: 'Deprecated: use Runtime.NodeType instead.'
                      properties:
                        gpu:
                          description: |-
                            Defines rules for allowed GPU types.
                            More info: https://www.radix.equinor.com/radix-config#gpu
                          type: string
                        gpuCount:
                          description: Defines minimum number of required GPUs.
                          type: string
                      type: object
                    notifications:
                      description: Notifications is the spec for notification about
                        internal events or changes
                      properties:
                        webhook:
                          description: Webhook is a URL for notification about internal
                            events or changes. The URL should be of a Radix component
                            or job-component, with not public port.
                          maxLength: 253
                          minLength: 1
                          type: string
                      type: object
                    payload:
                      description: |-
                        RadixJobComponentPayload defines the path and where the payload received
                        by radix-job-scheduler will be mounted to the job container
                      properties:
                        path:
                          description: Path to the folder where payload is mounted
                          minLength: 1
                          type: string
                      required:
                      - path
                      type: object
                    ports:
                      items:
                        description: ComponentPort defines a named port.
                        properties:
                          name:
                            description: Name of the port.
                            maxLength: 15
                            minLength: 1
                            pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                            type: string
                          port:
                            description: Port number.
                            format: int32
                            maximum: 65535
                            minimum: 1024
                            type: integer
                        required:
                        - name
                        - port
                        type: object
                      type: array
                    readOnlyFileSystem:
                      type: boolean
                    resources:
                      description: |-
                        ResourceRequirements describes the compute resource requirements.
                        More info: https://www.radix.equinor.com/radix-config#resources-common
                      properties:
                        limits:
                          additionalProperties:
                            type: string
                          description: Limits describes the maximum amount of compute
                            resources allowed.
                          type: object
                        requests:
                          additionalProperties:
                            type: string
                          description: |-
                            Requests describes the minimum amount of compute resources required.
                            If Requests is omitted for a container, it defaults to Limits if
                            that is explicitly specified, otherwise to an implementation-defined value.
                          type: object
                      type: object
                    runtime:
                      description: Runtime defines the component or job's target runtime
                        requirements
                      properties:
                        architecture:
                          description: CPU architecture target for the component or
                            job. When Architecture and NodeType are not defined, the
                            Architecture defaults to amd64.
                          enum:
                          - amd64
                          - arm64
                          - ""
                          type: string
                        nodeType:
                          description: |-
                            Defines the node type for the component. It is a values of the node-pool label and taint with key radix-nodetype, where component's or job's pods will be scheduled.
                            More info: https://www.radix.equinor.com/radix-config#nodetype
                          maxLength: 120
                          pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                          type: string
                      type: object
                    schedulerPort:
                      format: int32
                      type: integer
                    secretRefs:
                      description: RadixSecretRefs defines secret vault
                      properties:
                        azureKeyVaults:
                          description: List of Azure Key Vaults to get secrets from.
                          items:
                            description: RadixAzureKeyVault defines an Azure keyvault.
                            properties:
                              items:
                                description: List of keyvault items (secrets, keys
                                  and certificates).
                                items:
                                  description: 'RadixAzureKeyVaultItem defines Azure
                                    Key Vault setting: secrets, keys, certificates'
                                  properties:
                                    alias:
                                      description: Alias overrides the default file
                                        name used when mounting the secret, key or
                                        certificate.
                                      minLength: 1
                                      type: string
                                    encoding:
                                      description: |-
                                        Encoding defines the encoding of a keyvault item when stored in the container.
                                        Setting encoding to base64 and format to pfx will fetch and write the base64 decoded pfx binary.
                                      enum:
                                      - base64
                                      type: string
                                    envVar:
                                      description: Defines the name of the environment
                                        variable that will contain the value of the
                                        secret, key or certificate.
                                      type: string
                                    format:
                                      description: |-
                                        Defines the format of the keyvault item.
                                        pfx is only supported with type secret and PKCS12 or ECC certificate.
                                        Default format for certificates is pem.
                                      enum:
                                      - pem
                                      - pfx
                                      type: string
                                    k8sSecretType:
                                      description: |-
                                        K8sSecretType defines the type of Kubernetes secret the keyvault item will be stored in.
                                        opaque corresponds to "Opaque" and "kubernetes.io/tls" secret types: https://kubernetes.io/docs/concepts/configuration/secret/#secret-types
                                      enum:
                                      - opaque
                                      - tls
                                      type: string
                                    name:
                                      description: Name of a secret, key or certificate
                                        in the keyvault.
                                      maxLength: 127
                                      minLength: 1
                                      type: string
                                    type:
                                      description: Type of item in the keyvault referenced
                                        by the name.
                                      enum:
                                      - secret
                                      - key
                                      - cert
                                      type: string
                                    version:
                                      description: |-
                                        Defines that a specific version of a keyvault item should be loaded.
                                        The latest version is loaded when this field is not set.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                minItems: 1
                                type: array
                              name:
                                description: Name of the Azure keyvault.
                                maxLength: 24
                                minLength: 3
                                type: string
                              path:
                                description: Path where secrets from the keyvault
                                  is mounted.
                                minLength: 1
                                type: string
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Key Vault will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - items
                            - name
                            type: object
                          type: array
                      type: object
                    secrets:
                      items:
                        type: string
                      type: array
                    timeLimitSeconds:
                      format: int64
                      type: integer
                    volumeMounts:
                      items:
                        description: RadixVolumeMount defines an external storage
                          resource.
                        properties:
                          accessMode:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            enum:
                            - ReadOnlyMany
                            - ReadWriteOnce
                            - ReadWriteMany
                            - ""
                            type: string
                          blobFuse2:
                            description: BlobFuse2 settings for Azure Storage FUSE
                              CSI driver with the protocol fuse2
                            properties:
                              accessMode:
                                description: |-
                                  Access mode from a container to an external storage. ReadOnlyMany (default), ReadWriteOnce, ReadWriteMany.
                                  More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                                enum:
                                - ReadOnlyMany
                                - ReadWriteOnce
                                - ReadWriteMany
                                - ""
                                type: string
                              attributeCache:
                                description: Configure attribute cache settings.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for the
                                      attribute cache entries. Default 0.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              blockCache:
                                description: Configure block cache settings. Applicable
                                  when cacheMode is Block.
                                properties:
                                  blockSize:
                                    description: Size (in MB) of a block to be downloaded
                                      as a unit. Default is 4.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  diskSize:
                                    description: |-
                                      Size (in MB) of total disk capacity that block cache can use.
                                      0 (default) disables disk caching.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  diskTimeout:
                                    description: Timeout (in seconds) for which persisted
                                      data remains in disk cache. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  parallelism:
                                    description: Number of worker thread responsible
                                      for upload/download jobs. Default 8.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  poolSize:
                                    description: |-
                                      Size (in MB) of total memory preallocated for block-cache.
                                      Minimum value = (prefetchCount + 1) * blockSize
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  prefetchCount:
                                    description: |-
                                      Max number of blocks to prefetch. Default 11.
                                      Value must be 0 (prefetching disabled) or greater than 10.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  prefetchOnOpen:
                                    description: Start prefetching on open or wait
                                      for first read. Default false.
                                    type: boolean
                                type: object
                              cacheMode:
                                description: |-
                                  Defines how files should be cached.

                                  File: Reads and caches the entire file
                                  Block (default): Blocks of fixed size are downloaded and cached
                                  DirectIO: Caching is disabled. All IO is passed directly to the storage account.
                                enum:
                                - File
                                - Block
                                - DirectIO
                                type: string
                              container:
                                description: Container. Name of the container in the
                                  external storage resource.
                                type: string
                              fileCache:
                                description: Configure file cache settings. Applicable
                                  when cacheMode is File.
                                properties:
                                  timeout:
                                    description: The timeout (in seconds) for which
                                      file cache is valid. Default 120.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                type: object
                              gid:
                                description: GID defines the group ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              protocol:
                                description: Holds protocols of BlobFuse2 Azure Storage
                                  FUSE driver. Default is fuse2.
                                enum:
                                - fuse2
                                - ""
                                type: string
                              requestsStorage:
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  Requested size (opens new window)of allocated mounted volume. Default value is set to "1Mi" (1 megabyte). Current version of the driver does not affect mounted volume size
                                  More info: https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/#create-a-persistentvolumeclaim
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              resourceGroup:
                                description: ResourceGroup of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              storageAccount:
                                description: Name of a storage account. It is mandatory
                                  when using a workload identity. It is optional when
                                  using Access Key, if it is not defined, it will
                                  be configured in a secret.
                                type: string
                              streaming:
                                description: |-
                                  Deprecated: Configure caching with cacheMode.
                                  Configure streaming settings.
                                  More info: https://github.com/Azure/azure-storage-fuse/blob/main/STREAMING.md
                                properties:
                                  enabled:
                                    description: |-
                                      Deprecated: Configure caching with cacheMode in blobFuse2 section.
                                      Enable streaming mode. Default true.
                                      For backward compatibility, Radix will use cachMode:File if this field is explicitly set to false.
                                    type: boolean
                                type: object
                              subscriptionId:
                                description: SubscriptionId of a storage account.
                                  Applicable when using a workload identity.
                                type: string
                              tenantId:
                                description: TenantId of a storage account. Applicable
                                  when using a workload identity.
                                type: string
                              uid:
                                description: UID defines the user ID (number) which
                                  will be set as owner of the mounted volume.
                                type: string
                              useAdls:
                                description: |-
                                  Enables blobfuse to access Azure DataLake storage account. When set to false, blobfuse will access Azure Block Blob storage account, hierarchical file system is not supported.
                                  Default false. This must be turned on when HNS enabled account is mounted.
                                type: boolean
                              useAzureIdentity:
                                description: UseAzureIdentity defines that credentials
                                  for accessing Azure Storage will be acquired using
                                  Azure Workload Identity instead of using a ClientID
                                  and Secret.
                                type: boolean
                            required:
                            - container
                            type: object
                          container:
                            description: 'Deprecated: Only required by the deprecated
                              type: blob.'
                            type: string
                          emptyDir:
                            description: EmptyDir settings for EmptyDir volume
                            properties:
                              sizeLimit:
                                anyOf:
                                - type: integer
                                - type: string
                                description: SizeLimit defines the size of the emptyDir
                                  volume
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                            required:
                            - sizeLimit
                            type: object
                          gid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              GID defines the group ID (number) which will be set as owner of the mounted volume.
                            type: string
                          name:
                            description: |-
                              User-defined name of the volume mount.
                              Must be unique for the component.
                            maxLength: 40
                            minLength: 1
                            type: string
                          path:
                            description: Path defines in which directory the external
                              storage is mounted.
                            minLength: 1
                            type: string
                          requestsStorage:
                            anyOf:
                            - type: integer
                            - type: string
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              More info: https://www.radix.equinor.com/guides/volume-mounts/optional-settings/
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          storage:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Storage defines the name of the container in the external storage resource.
                            type: string
                          type:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              Type defines the storage type.
                            enum:
                            - azure-blob
                            - ""
                            type: string
                          uid:
                            description: |-
                              Deprecated: use BlobFuse2 instead.
                              UID defines the user ID (number) which will be set as owner of the mounted volume.
                            type: string
                        required:
                        - name
                        - path
                        type: object
                      type: array
                  required:
                  - alwaysPullImageOnDeploy
                  - environment
                  - image
                  - monitoring
                  - name
                  type: object
                type: array
            required:
            - appname
            - environment
            type: object
          status:
            description: RadixDeployStatus is the status for a rd
            properties:
              activeFrom:
                format: date-time
                type: string
              activeTo:
                format: date-time
                type: string
              condition:
                description: RadixDeployCondition Holds the condition of a component
                type: string
              reconciled:
                format: date-time
                type: string
            required:
            - activeFrom
            - condition
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: radix-operator/templates/radixdnsalias.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: radixdnsaliases.radix.equinor.com
spec:
  group: radix.equinor.com
  names:
    kind: RadixDNSAlias
    listKind: RadixDNSAliasList
    plural: radixdnsaliases
    shortNames:
    - rda
    singular: radixdnsalias
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.appName
      name: Application
      type: string
    - jsonPath: .status.condition
      name: Status
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: RadixDNSAlias is a Custom Resource Definition
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: RadixDNSAliasSpec is the spec for an RadixDNSAlias
            properties:
              appName:
                description: Name of the application the DNS alias used in.
                maxLength: 50
                minLength: 1
                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                type: string
                x-kubernetes-validations:
                - message: Value is immutable
                  rule: self == oldSelf
              component:
                description: Name of the component that shall receive the incoming
                  requests.
                maxLength: 63
                minLength: 1
                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                type: string
              environment:
                description: Name of the environment for the component.
                maxLength: 63
                minLength: 1
                pattern: ^(([a-z0-9][-a-z0-9]*)?[a-z0-9])?$
                type: string
                x-kubernetes-validations:
                - message: Value is immutable
                  rule: self == oldSelf
            required:
            - appName
            - component
            - environment
            type: object
          status:
            description: RadixDNSAliasStatus is the status for an RadixDNSAlias
            properties:
              condition:
                description: Condition of the RadixDNSAlias creating or updating
                type: string
              message:
                description: A human-readable message indicating details about the
                  condition.
                type: string
              reconciled:
                description: Reconciled The timestamp when the RadixDNSAlias was reconciled
                format: date-time
                type: string
            type: object
        required:
        - metadata
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: radix-operator/templates/radixenvironment.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: radixenvironments.radix.equinor.com
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
spec:
  group: radix.equinor.com
  names:
    kind: RadixEnvironment
    plural: radixenvironments
    singular: radixenvironment
    shortNames:
      - re
  scope: Cluster
  versions:
  - name: v1
    served: true
    storage: true
    subresources:
      status: {}
    schema:
      openAPIV3Schema:
        type: object
        properties:
          spec:
            type: object
            x-kubernetes-preserve-unknown-fields: true
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
---
# Source: radix-operator/templates/radixjob.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: radixjobs.radix.equinor.com
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
spec:
  group: radix.equinor.com
  names:
    kind: RadixJob
    plural: radixjobs
    singular: radixjob
    shortNames:
      - rj
  scope: Namespaced
  versions:
  - name: v1
    served: true
    storage: true
    subresources:
      status: {}
    schema:
      openAPIV3Schema:
        type: object
        properties:
          spec:
            type: object
            x-kubernetes-preserve-unknown-fields: true
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
---
# Source: radix-operator/templates/radixregistration.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: radixregistrations.radix.equinor.com
spec:
  group: radix.equinor.com
  names:
    kind: RadixRegistration
    listKind: RadixRegistrationList
    plural: radixregistrations
    shortNames:
    - rr
    singular: radixregistration
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.cloneURL
      name: CloneURL
      type: string
    - jsonPath: .spec.configBranch
      name: ConfigBranch
      type: string
    - jsonPath: .spec.radixConfigFullName
      name: RadixConfig
      type: string
    - jsonPath: .status.reconciled
      name: Reconciled
      type: date
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: RadixRegistration describe an application
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: RadixRegistrationSpec is the spec for an application
            properties:
              adGroups:
                items:
                  format: uuid
                  type: string
                type: array
              adUsers:
                items:
                  format: uuid
                  type: string
                type: array
              appID:
                description: AppID is the unique identifier for the Radix application.
                  Not to be confused by Configuration Item.
                format: ulid
                pattern: ^[0-7][0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{25}$
                type: string
                x-kubernetes-validations:
                - message: Value is immutable
                  rule: self == oldSelf
              cloneURL:
                description: CloneURL is the URL of the GitHub repository where the
                  Radix configuration file is located.
                pattern: ^git@github.com:[\w-]+/[\w-]+.git$
                type: string
              configBranch:
                description: |-
                  ConfigBranch is the branch in the git repository where the Radix configuration file is located.
                  See https://git-scm.com/docs/git-check-ref-format#_description for more details.
                type: string
                x-kubernetes-validations:
                - rule: '!(  self == ''@'' ||  self == '''' )'
                - rule: '!(  self.startsWith(''/'') )'
                - rule: '!(  self.endsWith(''.lock'') ||  self.endsWith(''.'')  )'
                - rule: '!(  self.contains(''/.'') || self.contains(''.lock/'') )'
                - rule: '!(  self.contains(''..'') ||  self.contains(''@{'') ||  self.contains(''\\'')  ||  self.contains(''//'')  )'
                - rule: '!(  self.matches(''.*[\\x00-\\x1F\\x7F ~^:\\?\\*\\[].*'')
                    )'
              configurationItem:
                description: |-
                  ConfigurationItem is and identifier for an entity in a configuration management solution such as a CMDB.
                  ITIL defines a CI as any component that needs to be managed in order to deliver an IT Service
                  Ref: https://en.wikipedia.org/wiki/Configuration_item
                maxLength: 100
                type: string
              creator:
                type: string
                x-kubernetes-validations:
                - message: Value is immutable
                  rule: self == oldSelf
              owner:
                type: string
              radixConfigFullName:
                description: RadixConfigFullName is the full name of the Radix configuration
                  file in the git repository.
                pattern: ^(\/*[a-zA-Z0-9_\.\-]+)+((\.yaml)|(\.yml))$
                type: string
              readerAdGroups:
                items:
                  format: uuid
                  type: string
                type: array
              readerAdUsers:
                items:
                  format: uuid
                  type: string
                type: array
              sharedSecret:
                description: 'deprecated: SharedSecret is the shared secret for the
                  git repository.'
                type: string
            required:
            - cloneURL
            - configBranch
            type: object
          status:
            description: RadixRegistrationStatus is the status for a rr
            properties:
              reconciled:
                format: date-time
                type: string
            required:
            - reconciled
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: radix-operator/templates/aggregate-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-operator-abc-view
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
    rbac.authorization.k8s.io/aggregate-to-view: "true"
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - "*"
  verbs:
  - get
  - list
  - watch
---
# Source: radix-operator/templates/aggregate-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-operator-abc-edit
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - "*"
  verbs:
  - create
  - delete
  - deletecollection
  - patch
  - update
---
# Source: radix-operator/templates/radix-app-reader-envs.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-app-reader-envs
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixdeployments
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - radix.equinor.com
  resources:
  - radixalerts
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - radix.equinor.com
  resources:
  - radixbatches
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - '*'
  resources:
  - deployments
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - '*'
  resources:
  - events
  verbs:
  - get
  - list
- apiGroups:
  - '*'
  resources:
  - pods
  - pods/log
  - services
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
- apiGroups:
  - networking.k8s.io
  resources:
  - ingresses
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - autoscaling
  resources:
  - horizontalpodautoscalers
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - '*'
  resources:
  - configmaps
  verbs:
  - get
  - list
- apiGroups:
  - keda.sh
  resources:
  - scaledobjects
  verbs:
  - get
  - list
  - watch
---
# Source: radix-operator/templates/radix-app-reader.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-app-reader
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
  - apiGroups:
      - radix.equinor.com
    resources:
      - radixapplications
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - radix.equinor.com
    resources:
      - radixalerts
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - radix.equinor.com
    resources:
      - radixjobs
    verbs:
      - get
      - list
  - apiGroups:
      - '*'
    resources:
      - pods
      - pods/log
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - batch
    resources:
      - jobs
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - ''
    resources:
      - configmaps
    verbs:
      - get
      - list
  - apiGroups:
      - tekton.dev
    resources:
      - pipelineruns
      - taskruns
    verbs:
      - get
      - list
---
# Source: radix-operator/templates/radix-apps-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
  name: radix-webhook
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixregistrations
  - radixapplications
  - radixdeployments
  verbs:
  - list
  - get
  - watch
- apiGroups:
  - "*"
  resources:
  - namespaces
  - ingresses
  - deployments
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - radix.equinor.com
  resources:
  - radixjobs
  verbs:
  - get
  - list
  - watch
  - patch
  - create
---
# Source: radix-operator/templates/radix-apps-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
  name: radix-api
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixregistrations
  - radixapplications
  - radixdeployments
  verbs:
  - list
  - get
  - watch
- apiGroups:
  - radix.equinor.com
  resources:
  - radixenvironments
  verbs:
  - get
  - list
  - watch
  - delete
  - create
- apiGroups:
  - '*'
  resources:
  - namespaces
  verbs:
  - get
  - list
- apiGroups:
  - '*'
  resources:
  - serviceaccounts
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
  - watch
  - create
- apiGroups:
  - radix.equinor.com
  resources:
  - radixjobs
  verbs:
  - get
  - list
  - watch
  - patch
  - create
- apiGroups:
  - 'secrets-store.csi.x-k8s.io'
  resources:
  - secretproviderclasses
  - secretproviderclasspodstatuses
  verbs:
  - get
  - list
- apiGroups:
  - '*'
  resources:
  - secrets
  verbs:
  - get
  - list
- apiGroups:
  - 'cert-manager.io'
  resources:
  - certificates
  - certificaterequests
  verbs:
  - get
  - list
- apiGroups:
  - apps
  resources:
  - deployments
  verbs:
  - get
  - update
---
# Source: radix-operator/templates/radix-apps-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
  name: radix-access-validation
rules:
- apiGroups:
  - '*'
  resources:
  - roles
  - rolebindings
  verbs:
  - create
  - delete
- apiGroups:
  - '*'
  resources:
  - configmaps
  verbs:
  - get
---
# Source: radix-operator/templates/radix-job-scheduler-rbac.yaml
# defines roles for radix-job-scheduler
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-job-scheduler
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
  - apiGroups:
      - '*'
    resources:
      - pods
      - pods/log
      - persistentvolumeclaims
    verbs:
      - get
      - list
  - apiGroups:
      - batch
    resources:
      - jobs
    verbs:
      - get
      - list
      - watch
      - create
      - delete
  - apiGroups:
      - radix.equinor.com
    resources:
      - radixdeployments
    verbs:
      - list
      - get
  - apiGroups:
      - radix.equinor.com
    resources:
      - radixbatches
    verbs:
      - list
      - get
      - create
      - update
      - delete
      - watch
  - apiGroups:
      - '*'
    resources:
      - secrets
    verbs:
      - get
      - list
      - create
      - delete
  - apiGroups:
      - '*'
    resources:
      - services
    verbs:
      - delete
      - list
  - apiGroups:
      - ''
    resources:
      - configmaps
    verbs:
      - get
      - list
      - create
      - update
      - patch
  - apiGroups:
      - '*'
    resources:
      - events
    verbs:
      - get
      - list
  - apiGroups:
      - secrets-store.csi.x-k8s.io
    resources:
      - secretproviderclasses
    verbs:
      - get
      - list
---
# Source: radix-operator/templates/radix-operator-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-operator-abc
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixregistrations
  - radixregistrations/status
  - radixapplications
  - radixenvironments
  - radixenvironments/status
  - radixdeployments
  - radixdeployments/status
  - radixjobs
  - radixjobs/status
  - radixalerts
  - radixalerts/status
  - radixbatches
  - radixbatches/status
  - radixdnsaliases
  - radixdnsaliases/status
  verbs:
  - get
  - list
  - watch
  - patch # required since radix operator grants this to others
  - delete # required since radix operator grants this to others
  - create # required since radix operator grants this to others
  - update # required since radix operator grants this to others
- apiGroups:
  - '*'
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - delete
  - update # required since radix operator grants this to others
  - patch
- apiGroups:
  - '*'
  resources:
  - events
  - limitranges
  - namespaces
  - secrets
  - serviceaccounts
  - roles
  - rolebindings
  - clusterroles
  - clusterrolebindings
  - deployments
  - services
  - ingresses
  - servicemonitors
  - networkpolicies
  - storageclasses
  - persistentvolumeclaims
  - persistentvolumes
  - poddisruptionbudgets
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list # required since radix operator grants this to others
  - watch # required since radix operator grants this to others
  - create # required since radix operator grants this to others
  - delete # required since radix operator grants this to others
  - patch # required since radix operator grants this to others
- apiGroups: # required since radix operator grants this to others
  - '*'
  resources:
  - pods
  - pods/log
  verbs:
  - get
  - list
  - watch
  - delete
- apiGroups:
  - autoscaling
  resources:
  - horizontalpodautoscalers
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - 'monitoring.coreos.com'
  resources:
  - alertmanagerconfigs
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - 'secrets-store.csi.x-k8s.io'
  resources:
  - secretproviderclasses
  verbs:
  - get
  - list
  - create
  - update
  - patch
  - delete
- apiGroups:
  - 'secrets-store.csi.x-k8s.io'
  resources:
  - secretproviderclasspodstatuses
  verbs:
  - get
  - list
- apiGroups:
    - tekton.dev
  resources:
    - pipelines
    - tasks
  verbs:
    - create
    - get
    - list
    - update
- apiGroups:
    - tekton.dev
  resources:
    - pipelineruns
    - taskruns
  verbs:
    - create
    - get
    - list
    - watch
    - update
- apiGroups:
    - cert-manager.io
  resources:
    - certificates
  verbs:
    - get
    - list
    - create
    - update
    - delete
- apiGroups:
  - cert-manager.io
  resources:
  - certificaterequests
  verbs:
  - get
  - list
- apiGroups:
  - keda.sh
  resources:
  - scaledobjects
  - triggerauthentications
  verbs:
  - get
  - list
  - create
  - update
  - patch
  - delete
  - watch
---
# Source: radix-operator/templates/radix-pipeline-rbac.yaml
# used to grant pipeline access to create jobs in its app namespace
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-pipeline-app
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixapplications
  verbs:
  - get
  - list
  - watch
  - create
  - update
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
  - watch
  - create
- apiGroups:
  - radix.equinor.com
  resources:
  - radixjobs
  verbs:
  - get
  - list
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - update
  - delete
  - create
- apiGroups:
  - 'secrets-store.csi.x-k8s.io'
  resources:
  - secretproviderclasses
  verbs:
  - get
  - list
- apiGroups:
  - ""
  resources:
  - pods
  verbs:
  - get
  - list
  - watch
- apiGroups:
    - tekton.dev
  resources:
    - pipelines
    - tasks
  verbs:
    - create
    - get
    - list
    - update
- apiGroups:
    - tekton.dev
  resources:
    - pipelineruns
  verbs:
    - create
    - get
    - list
    - watch
    - update
---
# Source: radix-operator/templates/radix-pipeline-rbac.yaml
# used to grant pipeline access to create new namespaces and deployments
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-pipeline-env
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixdeployments
  verbs:
  - get
  - list
  - create
  - delete
- apiGroups:
    - ""
  resources:
    - namespaces
  verbs:
    - get
---
# Source: radix-operator/templates/radix-user-groups-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-platform-user
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixregistrations
  verbs:
  - create
---
# Source: radix-operator/templates/radix-user-groups-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-app-admin
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixapplications
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - radix.equinor.com
  resources:
  - radixalerts
  verbs:
  - get
  - list
  - watch
  - create
  - delete
  - patch
  - update
- apiGroups:
  - radix.equinor.com
  resources:
  - radixjobs
  verbs:
  - get
  - list
  - update
  - patch
  - create
- apiGroups:
  - '*'
  resources:
  - pods
  - pods/log
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
  - watch
  - delete
- apiGroups:
  - ''
  resources:
  - configmaps
  verbs:
  - get
  - list
- apiGroups:
  - tekton.dev
  resources:
  - pipelineruns
  - taskruns
  verbs:
  - get
  - list
---
# Source: radix-operator/templates/radix-user-groups-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: radix-app-admin-envs
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
rules:
- apiGroups:
  - radix.equinor.com
  resources:
  - radixdeployments
  verbs:
  - get
  - list
  - watch
  - create
  - delete
  - patch
- apiGroups:
  - radix.equinor.com
  resources:
  - radixalerts
  verbs:
  - get
  - list
  - watch
  - create
  - delete
  - patch
  - update
- apiGroups:
  - radix.equinor.com
  resources:
  - radixbatches
  verbs:
  - get
  - list
  - watch
  - create
  - delete
  - patch
  - update
- apiGroups:
  - '*'
  resources:
  - deployments
  verbs:
  - get
  - list
  - watch
  - delete
- apiGroups:
  - '*'
  resources:
  - events
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - '*'
  resources:
  - pods
  - pods/log
  - services
  verbs:
  - get
  - list
  - watch
  - delete
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
- apiGroups:
  - networking.k8s.io
  resources:
  - ingresses
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - autoscaling
  resources:
  - horizontalpodautoscalers
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - '*'
  resources:
  - secrets
  verbs:
  - create
- apiGroups:
  - ''
  resources:
  - configmaps
  verbs:
  - get
  - list
  - patch
- apiGroups:
  - keda.sh
  resources:
  - scaledobjects
  verbs:
  - get
  - list
  - watch
---
# Source: radix-operator/templates/radix-operator-rbac.yaml
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: radix-operator-abc
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
subjects:
- kind: ServiceAccount
  namespace: "default"
  name: radix-operator-abc
roleRef:
  kind: ClusterRole
  name: radix-operator-abc
  apiGroup: rbac.authorization.k8s.io
---
# Source: radix-operator/templates/radix-user-groups-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    group: radix-platform-user
  name: radix-platform-user-binding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: radix-platform-user
subjects:
- apiGroup: rbac.authorization.k8s.io
  kind: Group
  name: "rihag@equinor.com"
---
# Source: radix-operator/templates/radix-metrics.yaml
apiVersion: v1
kind: Service
metadata:
  labels:
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
  name: radix-operator-abc
  namespace: "default"
spec:
  ports:
  - name: metrics
    port: 9000
    protocol: TCP
    targetPort: metrics
  selector:
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
  type: ClusterIP
---
# Source: radix-operator/templates/seccomp-profile-daemonset.yaml
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: copy-seccomp-profile
  namespace: kube-system
spec:
  selector:
    matchLabels:
      app: copy-seccomp-profile
  template:
    metadata:
      labels:
        app: copy-seccomp-profile
    spec:
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
            - matchExpressions:
              - key: "nodepool-type"
                operator: NotIn
                values: ["system"]
      containers:
        - name: file-copy-container
          image: docker.io/alpine:3.20
          command: ["sh", "-c"]
          args: ["while true; do if ! diff -q /configmap-data/allow-buildah.json /hostpath/allow-buildah.json > /dev/null 2>&1; then echo \"$(date ''+%H:%M'') - Changes\" && cp /configmap-data/allow-buildah.json /hostpath/; else echo \"$(date ''+%H:%M'') - No changes\"; fi; sleep 60; done"]
          volumeMounts:
            - name: hostpath-volume
              mountPath: /hostpath
            - name: configmap-volume
              mountPath: /configmap-data
              readOnly: true
          resources:
            limits:
              cpu: 10m
              memory: 10Mi
            requests:
              cpu: 10m
              memory: 10Mi
      volumes:
        - name: hostpath-volume
          hostPath:
            path: /var/lib/kubelet/seccomp
        - name: configmap-volume
          configMap:
            name: seccomp-allow-buildah
      tolerations:
        - operator: Exists
---
# Source: radix-operator/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: radix-operator-abc
  namespace: "default"
  labels:
    helm.sh/chart: radix-operator-1.62.0
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
    app.kubernetes.io/version: "1.82.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app.kubernetes.io/name: radix-operator
      app.kubernetes.io/instance: radix-operator-abc
  template:
    metadata:
      labels:
        app.kubernetes.io/name: radix-operator
        app.kubernetes.io/instance: radix-operator-abc
    spec:
      serviceAccount: radix-operator-abc
      securityContext:
        fsGroup: 1000
        runAsGroup: 1000
        runAsNonRoot: true
        runAsUser: 1000
        supplementalGroups:
        - 1000
      containers:
        - name: radix-operator-abc
          image: "xx:xx"
          imagePullPolicy: Always
          ports:
            - name: metrics
              containerPort: 9000
              protocol: TCP
          env:
            - name: LABEL_PROMETHEUS_INSTANCE
              value: kube-prometheus
            - name: DNS_ZONE
              value: dev.radix.equinor.com
            - name: RADIX_ZONE
              value: xx
            - name: APP_ALIAS_BASE_URL
              value: app.dev.radix.equinor.com
            - name: RADIXOPERATOR_CLUSTER_TYPE
              value: development
            - name: RADIXOPERATOR_DEFAULT_USER_GROUP
              value: "rihag@equinor.com"
            # For configuring limit ranges on app namespaces
            - name: RADIXOPERATOR_APP_LIMITS_DEFAULT_MEMORY
              value: "450M"
            - name: RADIXOPERATOR_APP_LIMITS_DEFAULT_REQUEST_MEMORY
              value: "450M"
            - name: RADIXOPERATOR_APP_LIMITS_DEFAULT_REQUEST_CPU
              value: "100m"
            # For configuring limit ranges on env namespaces
            - name: RADIXOPERATOR_APP_ENV_LIMITS_DEFAULT_MEMORY
              value: "500M"
            - name: RADIXOPERATOR_APP_ENV_LIMITS_DEFAULT_REQUEST_MEMORY
              value: "500M"
            - name: RADIXOPERATOR_APP_ENV_LIMITS_DEFAULT_REQUEST_CPU
              value: "100m"
            # For configuring limit ranges on app namespaces
            - name: RADIXOPERATOR_APP_BUILDER_RESOURCES_LIMITS_MEMORY
              value: "500M"
            - name: RADIXOPERATOR_APP_BUILDER_RESOURCES_LIMITS_CPU
              value: "2000m"
            - name: RADIXOPERATOR_APP_BUILDER_RESOURCES_REQUESTS_MEMORY
              value: "500M"
            - name: RADIXOPERATOR_APP_BUILDER_RESOURCES_REQUESTS_CPU
              value: "200m"
            # For configuring readiness probe
            - name: RADIXOPERATOR_APP_READINESS_PROBE_INITIAL_DELAY_SECONDS
              value: "5"
            - name: RADIXOPERATOR_APP_READINESS_PROBE_PERIOD_SECONDS
              value: "10"
            # For configuring rolling update
            - name: RADIXOPERATOR_APP_ROLLING_UPDATE_MAX_UNAVAILABLE
              value: "25%"
            - name: RADIXOPERATOR_APP_ROLLING_UPDATE_MAX_SURGE
              value: "25%"
            # Maximum custom resources
            - name: RADIX_DEPLOYMENTS_PER_ENVIRONMENT_HISTORY_LIMIT
              value: "10"
            - name: RADIX_PIPELINE_JOBS_HISTORY_LIMIT
              value: "5"
            - name: RADIX_PIPELINE_JOBS_HISTORY_PERIOD_LIMIT
              value: "720h"
            - name: RADIX_IMAGE_BUILDER
              value: radix-image-builder:master-latest
            - name: RADIXOPERATOR_JOB_SCHEDULER
              value: radix-job-scheduler:main-latest
            - name: LOG_LEVEL
              value: INFO
            - name: LOG_PRETTY
              value: "false"
            - name: RADIX_CONTAINER_REGISTRY
              value: radixdev.azurecr.io
            - name: RADIX_APP_CONTAINER_REGISTRY
              value: radixdevapp.azurecr.io
            - name: RADIXOPERATOR_TENANT_ID
              value: xx
            - name: RADIX_OAUTH_PROXY_DEFAULT_OIDC_ISSUER_URL
              value: https://login.microsoftonline.com/3aa4a235-b6e2-48d5-9195-7fcf05b459b0/v2.0
            - name: RADIX_OAUTH_PROXY_IMAGE
              value: quay.io/oauth2-proxy/oauth2-proxy:v7.2.0
            - name: REGISTRATION_CONTROLLER_THREADS
              value: "1"
            - name: APPLICATION_CONTROLLER_THREADS
              value: "1"
            - name: ENVIRONMENT_CONTROLLER_THREADS
              value: "1"
            - name: DEPLOYMENT_CONTROLLER_THREADS
              value: "1"
            - name: JOB_CONTROLLER_THREADS
              value: "1"
            - name: ALERT_CONTROLLER_THREADS
              value: "1"
            - name: KUBE_CLIENT_RATE_LIMIT_BURST
              value: "5"
            - name: KUBE_CLIENT_RATE_LIMIT_QPS
              value: "5"
            - name: SECCOMP_PROFILE_FILENAME
              value: allow-buildah.json
            - name: RADIX_BUILDAH_IMAGE_BUILDER # TODO: Deprecated, remove
              value: xx
            - name: RADIX_BUILDKIT_IMAGE_BUILDER
              value: radix-buildkit-builder:main-latest
            - name: RADIX_PIPELINE_GIT_CLONE_NSLOOKUP_IMAGE
              value: 
            - name: RADIX_PIPELINE_GIT_CLONE_GIT_IMAGE
              value: 
            - name: RADIX_PIPELINE_GIT_CLONE_BASH_IMAGE
              value: 
            - name: RADIX_RESERVED_APP_DNS_ALIASES
              value: "api=radix-api,canary=radix-canary-golang,console=radix-web-console,cost-api=radix-cost-allocation-api,webhook=radix-github-webhook"
            - name: RADIX_RESERVED_DNS_ALIASES
              value: "grafana,prometheus,www,app,playground,dev"
            - name: RADIXOPERATOR_CERTIFICATE_AUTOMATION_CLUSTER_ISSUER
              value: 
            - name: RADIXOPERATOR_CERTIFICATE_AUTOMATION_DURATION
              value: 2160h
            - name: RADIXOPERATOR_CERTIFICATE_AUTOMATION_RENEW_BEFORE
              value: 720h
            - name: RADIX_EXTERNAL_REGISTRY_DEFAULT_AUTH_SECRET
              value: 
            - name: RADIXOPERATOR_ORPHANED_ENVIRONMENTS_RETENTION_PERIOD
              value: 720h
            - name: RADIXOPERATOR_ORPHANED_ENVIRONMENTS_CLEANUP_CRON
              value: 0 0 * * *
            - name: RADIXOPERATOR_PIPELINE_IMAGE_TAG
              value: master-latest
          livenessProbe:
            httpGet:
              path: /healthz
              port: metrics
          readinessProbe:
            httpGet:
              path: /healthz
              port: metrics
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
            readOnlyRootFilesystem: false
          resources:
            limits:
              memory: 1Gi
            requests:
              cpu: 100m
              memory: 1Gi
---
# Source: radix-operator/templates/radix-apps-rbac.yaml
# used to define rbac rules for radix api and webhook - that require special permissions
---
# Source: radix-operator/templates/radix-metrics.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  labels:
    app.kubernetes.io/name: radix-operator
    app.kubernetes.io/instance: radix-operator-abc
  name: radix-operator-abc
  namespace: "default"
spec:
  endpoints:
  - honorLabels: true
    port: metrics
  namespaceSelector:
    matchNames:
    - "default"
  selector:
    matchLabels:
      app.kubernetes.io/name: radix-operator
      app.kubernetes.io/instance: radix-operator-abc
